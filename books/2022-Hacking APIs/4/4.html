<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol.lst-kix_b5zo2cha9hk-7.start{counter-reset:lst-ctn-kix_b5zo2cha9hk-7 0}.lst-kix_esllgm5qwjmj-6>li:before{content:"" counter(lst-ctn-kix_esllgm5qwjmj-6,decimal) ". "}.lst-kix_esllgm5qwjmj-8>li:before{content:"" counter(lst-ctn-kix_esllgm5qwjmj-8,lower-roman) ". "}.lst-kix_r6xkphimrv5l-6>li{counter-increment:lst-ctn-kix_r6xkphimrv5l-6}ol.lst-kix_r6xkphimrv5l-4.start{counter-reset:lst-ctn-kix_r6xkphimrv5l-4 0}.lst-kix_esllgm5qwjmj-5>li:before{content:"" counter(lst-ctn-kix_esllgm5qwjmj-5,lower-roman) ". "}.lst-kix_esllgm5qwjmj-1>li{counter-increment:lst-ctn-kix_esllgm5qwjmj-1}ol.lst-kix_qqc7kkr7tiek-8.start{counter-reset:lst-ctn-kix_qqc7kkr7tiek-8 0}.lst-kix_3uk69x9d6vpu-7>li{counter-increment:lst-ctn-kix_3uk69x9d6vpu-7}.lst-kix_esllgm5qwjmj-7>li:before{content:"" counter(lst-ctn-kix_esllgm5qwjmj-7,lower-latin) ". "}.lst-kix_2midx1c9mfg-4>li{counter-increment:lst-ctn-kix_2midx1c9mfg-4}.lst-kix_esllgm5qwjmj-0>li:before{content:"" counter(lst-ctn-kix_esllgm5qwjmj-0,decimal) ". "}.lst-kix_esllgm5qwjmj-1>li:before{content:"" counter(lst-ctn-kix_esllgm5qwjmj-1,lower-latin) ". "}.lst-kix_esllgm5qwjmj-2>li:before{content:"" counter(lst-ctn-kix_esllgm5qwjmj-2,lower-roman) ". "}.lst-kix_esllgm5qwjmj-4>li:before{content:"" counter(lst-ctn-kix_esllgm5qwjmj-4,lower-latin) ". "}.lst-kix_qqc7kkr7tiek-0>li{counter-increment:lst-ctn-kix_qqc7kkr7tiek-0}ol.lst-kix_qqc7kkr7tiek-2.start{counter-reset:lst-ctn-kix_qqc7kkr7tiek-2 0}ol.lst-kix_3uk69x9d6vpu-2.start{counter-reset:lst-ctn-kix_3uk69x9d6vpu-2 0}.lst-kix_esllgm5qwjmj-3>li:before{content:"" counter(lst-ctn-kix_esllgm5qwjmj-3,decimal) ". "}ol.lst-kix_2midx1c9mfg-8.start{counter-reset:lst-ctn-kix_2midx1c9mfg-8 0}.lst-kix_qqc7kkr7tiek-2>li{counter-increment:lst-ctn-kix_qqc7kkr7tiek-2}ol.lst-kix_esllgm5qwjmj-5.start{counter-reset:lst-ctn-kix_esllgm5qwjmj-5 0}ol.lst-kix_2q4szhtd9fq-3.start{counter-reset:lst-ctn-kix_2q4szhtd9fq-3 0}.lst-kix_2midx1c9mfg-6>li{counter-increment:lst-ctn-kix_2midx1c9mfg-6}.lst-kix_r6xkphimrv5l-4>li{counter-increment:lst-ctn-kix_r6xkphimrv5l-4}ol.lst-kix_qqc7kkr7tiek-3.start{counter-reset:lst-ctn-kix_qqc7kkr7tiek-3 0}ol.lst-kix_2midx1c9mfg-3.start{counter-reset:lst-ctn-kix_2midx1c9mfg-3 0}ol.lst-kix_3uk69x9d6vpu-7.start{counter-reset:lst-ctn-kix_3uk69x9d6vpu-7 0}.lst-kix_b5zo2cha9hk-1>li{counter-increment:lst-ctn-kix_b5zo2cha9hk-1}.lst-kix_b5zo2cha9hk-6>li:before{content:"" counter(lst-ctn-kix_b5zo2cha9hk-6,decimal) ". "}.lst-kix_b5zo2cha9hk-8>li:before{content:"" counter(lst-ctn-kix_b5zo2cha9hk-8,lower-roman) ". "}.lst-kix_b5zo2cha9hk-7>li:before{content:"" counter(lst-ctn-kix_b5zo2cha9hk-7,lower-latin) ". "}.lst-kix_2q4szhtd9fq-0>li{counter-increment:lst-ctn-kix_2q4szhtd9fq-0}.lst-kix_3uk69x9d6vpu-3>li:before{content:"" counter(lst-ctn-kix_3uk69x9d6vpu-3,decimal) ". "}.lst-kix_esllgm5qwjmj-5>li{counter-increment:lst-ctn-kix_esllgm5qwjmj-5}.lst-kix_b5zo2cha9hk-2>li:before{content:"" counter(lst-ctn-kix_b5zo2cha9hk-2,lower-roman) ". "}.lst-kix_b5zo2cha9hk-4>li:before{content:"" counter(lst-ctn-kix_b5zo2cha9hk-4,lower-latin) ". "}.lst-kix_3uk69x9d6vpu-2>li:before{content:"" counter(lst-ctn-kix_3uk69x9d6vpu-2,lower-roman) ". "}.lst-kix_b5zo2cha9hk-1>li:before{content:"" counter(lst-ctn-kix_b5zo2cha9hk-1,lower-latin) ". "}.lst-kix_b5zo2cha9hk-5>li:before{content:"" counter(lst-ctn-kix_b5zo2cha9hk-5,lower-roman) ". "}.lst-kix_3uk69x9d6vpu-0>li:before{content:"" counter(lst-ctn-kix_3uk69x9d6vpu-0,decimal) ". "}.lst-kix_3uk69x9d6vpu-1>li:before{content:"" counter(lst-ctn-kix_3uk69x9d6vpu-1,lower-latin) ". "}.lst-kix_2q4szhtd9fq-7>li{counter-increment:lst-ctn-kix_2q4szhtd9fq-7}ol.lst-kix_b5zo2cha9hk-2.start{counter-reset:lst-ctn-kix_b5zo2cha9hk-2 0}.lst-kix_b5zo2cha9hk-3>li:before{content:"" counter(lst-ctn-kix_b5zo2cha9hk-3,decimal) ". "}.lst-kix_b5zo2cha9hk-8>li{counter-increment:lst-ctn-kix_b5zo2cha9hk-8}ol.lst-kix_2midx1c9mfg-2.start{counter-reset:lst-ctn-kix_2midx1c9mfg-2 0}ol.lst-kix_2q4szhtd9fq-8.start{counter-reset:lst-ctn-kix_2q4szhtd9fq-8 0}ol.lst-kix_3uk69x9d6vpu-1.start{counter-reset:lst-ctn-kix_3uk69x9d6vpu-1 0}ol.lst-kix_b5zo2cha9hk-8.start{counter-reset:lst-ctn-kix_b5zo2cha9hk-8 0}.lst-kix_r6xkphimrv5l-2>li{counter-increment:lst-ctn-kix_r6xkphimrv5l-2}ol.lst-kix_b5zo2cha9hk-1.start{counter-reset:lst-ctn-kix_b5zo2cha9hk-1 0}.lst-kix_r6xkphimrv5l-8>li{counter-increment:lst-ctn-kix_r6xkphimrv5l-8}ol.lst-kix_3uk69x9d6vpu-8.start{counter-reset:lst-ctn-kix_3uk69x9d6vpu-8 0}.lst-kix_b5zo2cha9hk-0>li:before{content:"" counter(lst-ctn-kix_b5zo2cha9hk-0,decimal) ". "}ol.lst-kix_esllgm5qwjmj-4.start{counter-reset:lst-ctn-kix_esllgm5qwjmj-4 0}.lst-kix_qqc7kkr7tiek-7>li{counter-increment:lst-ctn-kix_qqc7kkr7tiek-7}.lst-kix_qqc7kkr7tiek-4>li{counter-increment:lst-ctn-kix_qqc7kkr7tiek-4}ol.lst-kix_b5zo2cha9hk-2{list-style-type:none}ol.lst-kix_b5zo2cha9hk-1{list-style-type:none}ol.lst-kix_b5zo2cha9hk-4{list-style-type:none}ol.lst-kix_b5zo2cha9hk-3{list-style-type:none}ol.lst-kix_b5zo2cha9hk-6{list-style-type:none}ol.lst-kix_b5zo2cha9hk-5{list-style-type:none}ol.lst-kix_b5zo2cha9hk-8{list-style-type:none}ol.lst-kix_b5zo2cha9hk-7{list-style-type:none}ol.lst-kix_b5zo2cha9hk-0{list-style-type:none}.lst-kix_2midx1c9mfg-7>li:before{content:"" counter(lst-ctn-kix_2midx1c9mfg-7,lower-latin) ". "}.lst-kix_hjxc89gpmguc-7>li:before{content:"\0025cb  "}.lst-kix_qqc7kkr7tiek-6>li{counter-increment:lst-ctn-kix_qqc7kkr7tiek-6}.lst-kix_hjxc89gpmguc-5>li:before{content:"\0025a0  "}ol.lst-kix_esllgm5qwjmj-3.start{counter-reset:lst-ctn-kix_esllgm5qwjmj-3 0}ol.lst-kix_2midx1c9mfg-1.start{counter-reset:lst-ctn-kix_2midx1c9mfg-1 0}.lst-kix_2midx1c9mfg-5>li:before{content:"" counter(lst-ctn-kix_2midx1c9mfg-5,lower-roman) ". "}ol.lst-kix_2q4szhtd9fq-5.start{counter-reset:lst-ctn-kix_2q4szhtd9fq-5 0}ol.lst-kix_r6xkphimrv5l-8.start{counter-reset:lst-ctn-kix_r6xkphimrv5l-8 0}ol.lst-kix_r6xkphimrv5l-0{list-style-type:none}.lst-kix_hjxc89gpmguc-1>li:before{content:"\0025cb  "}.lst-kix_esllgm5qwjmj-8>li{counter-increment:lst-ctn-kix_esllgm5qwjmj-8}ol.lst-kix_r6xkphimrv5l-5{list-style-type:none}.lst-kix_2midx1c9mfg-3>li:before{content:"" counter(lst-ctn-kix_2midx1c9mfg-3,decimal) ". "}.lst-kix_2q4szhtd9fq-4>li{counter-increment:lst-ctn-kix_2q4szhtd9fq-4}ol.lst-kix_r6xkphimrv5l-6{list-style-type:none}.lst-kix_hjxc89gpmguc-3>li:before{content:"\0025cf  "}ol.lst-kix_r6xkphimrv5l-7{list-style-type:none}ol.lst-kix_r6xkphimrv5l-8{list-style-type:none}ol.lst-kix_2q4szhtd9fq-2.start{counter-reset:lst-ctn-kix_2q4szhtd9fq-2 0}ol.lst-kix_r6xkphimrv5l-1{list-style-type:none}.lst-kix_2midx1c9mfg-1>li:before{content:"" counter(lst-ctn-kix_2midx1c9mfg-1,lower-latin) ". "}ol.lst-kix_r6xkphimrv5l-2{list-style-type:none}ol.lst-kix_r6xkphimrv5l-3{list-style-type:none}ol.lst-kix_r6xkphimrv5l-4{list-style-type:none}ol.lst-kix_r6xkphimrv5l-5.start{counter-reset:lst-ctn-kix_r6xkphimrv5l-5 0}.lst-kix_b5zo2cha9hk-5>li{counter-increment:lst-ctn-kix_b5zo2cha9hk-5}ol.lst-kix_2midx1c9mfg-1{list-style-type:none}ol.lst-kix_2midx1c9mfg-0{list-style-type:none}.lst-kix_qqc7kkr7tiek-5>li{counter-increment:lst-ctn-kix_qqc7kkr7tiek-5}ol.lst-kix_2midx1c9mfg-5{list-style-type:none}ol.lst-kix_2midx1c9mfg-4{list-style-type:none}ol.lst-kix_2midx1c9mfg-3{list-style-type:none}ol.lst-kix_2midx1c9mfg-2{list-style-type:none}ol.lst-kix_2midx1c9mfg-8{list-style-type:none}ol.lst-kix_2midx1c9mfg-7{list-style-type:none}ol.lst-kix_2midx1c9mfg-6{list-style-type:none}.lst-kix_3uk69x9d6vpu-4>li:before{content:"" counter(lst-ctn-kix_3uk69x9d6vpu-4,lower-latin) ". "}.lst-kix_3uk69x9d6vpu-0>li{counter-increment:lst-ctn-kix_3uk69x9d6vpu-0}.lst-kix_3uk69x9d6vpu-6>li:before{content:"" counter(lst-ctn-kix_3uk69x9d6vpu-6,decimal) ". "}.lst-kix_3uk69x9d6vpu-8>li:before{content:"" counter(lst-ctn-kix_3uk69x9d6vpu-8,lower-roman) ". "}.lst-kix_2midx1c9mfg-0>li{counter-increment:lst-ctn-kix_2midx1c9mfg-0}ol.lst-kix_b5zo2cha9hk-3.start{counter-reset:lst-ctn-kix_b5zo2cha9hk-3 0}ol.lst-kix_qqc7kkr7tiek-1.start{counter-reset:lst-ctn-kix_qqc7kkr7tiek-1 0}ol.lst-kix_b5zo2cha9hk-6.start{counter-reset:lst-ctn-kix_b5zo2cha9hk-6 0}ol.lst-kix_esllgm5qwjmj-1.start{counter-reset:lst-ctn-kix_esllgm5qwjmj-1 0}ol.lst-kix_r6xkphimrv5l-6.start{counter-reset:lst-ctn-kix_r6xkphimrv5l-6 0}.lst-kix_r6xkphimrv5l-3>li{counter-increment:lst-ctn-kix_r6xkphimrv5l-3}.lst-kix_b5zo2cha9hk-6>li{counter-increment:lst-ctn-kix_b5zo2cha9hk-6}.lst-kix_qqc7kkr7tiek-1>li:before{content:"" counter(lst-ctn-kix_qqc7kkr7tiek-1,lower-latin) ". "}ol.lst-kix_2q4szhtd9fq-4.start{counter-reset:lst-ctn-kix_2q4szhtd9fq-4 0}ol.lst-kix_qqc7kkr7tiek-0.start{counter-reset:lst-ctn-kix_qqc7kkr7tiek-0 0}ol.lst-kix_b5zo2cha9hk-5.start{counter-reset:lst-ctn-kix_b5zo2cha9hk-5 0}.lst-kix_qqc7kkr7tiek-3>li:before{content:"" counter(lst-ctn-kix_qqc7kkr7tiek-3,decimal) ". "}.lst-kix_qqc7kkr7tiek-7>li:before{content:"" counter(lst-ctn-kix_qqc7kkr7tiek-7,lower-latin) ". "}ol.lst-kix_2midx1c9mfg-0.start{counter-reset:lst-ctn-kix_2midx1c9mfg-0 0}.lst-kix_qqc7kkr7tiek-5>li:before{content:"" counter(lst-ctn-kix_qqc7kkr7tiek-5,lower-roman) ". "}.lst-kix_2midx1c9mfg-5>li{counter-increment:lst-ctn-kix_2midx1c9mfg-5}.lst-kix_esllgm5qwjmj-3>li{counter-increment:lst-ctn-kix_esllgm5qwjmj-3}ol.lst-kix_esllgm5qwjmj-0.start{counter-reset:lst-ctn-kix_esllgm5qwjmj-0 0}.lst-kix_3uk69x9d6vpu-5>li{counter-increment:lst-ctn-kix_3uk69x9d6vpu-5}ol.lst-kix_r6xkphimrv5l-7.start{counter-reset:lst-ctn-kix_r6xkphimrv5l-7 0}.lst-kix_b5zo2cha9hk-0>li{counter-increment:lst-ctn-kix_b5zo2cha9hk-0}.lst-kix_2q4szhtd9fq-5>li{counter-increment:lst-ctn-kix_2q4szhtd9fq-5}ol.lst-kix_3uk69x9d6vpu-5.start{counter-reset:lst-ctn-kix_3uk69x9d6vpu-5 0}ol.lst-kix_qqc7kkr7tiek-1{list-style-type:none}ol.lst-kix_qqc7kkr7tiek-2{list-style-type:none}ol.lst-kix_qqc7kkr7tiek-0{list-style-type:none}ol.lst-kix_qqc7kkr7tiek-5{list-style-type:none}ol.lst-kix_qqc7kkr7tiek-6{list-style-type:none}.lst-kix_2q4szhtd9fq-8>li{counter-increment:lst-ctn-kix_2q4szhtd9fq-8}ol.lst-kix_qqc7kkr7tiek-3{list-style-type:none}ol.lst-kix_b5zo2cha9hk-4.start{counter-reset:lst-ctn-kix_b5zo2cha9hk-4 0}ol.lst-kix_qqc7kkr7tiek-4{list-style-type:none}ol.lst-kix_qqc7kkr7tiek-5.start{counter-reset:lst-ctn-kix_qqc7kkr7tiek-5 0}ol.lst-kix_2midx1c9mfg-5.start{counter-reset:lst-ctn-kix_2midx1c9mfg-5 0}ol.lst-kix_qqc7kkr7tiek-7{list-style-type:none}ol.lst-kix_qqc7kkr7tiek-8{list-style-type:none}.lst-kix_3uk69x9d6vpu-8>li{counter-increment:lst-ctn-kix_3uk69x9d6vpu-8}.lst-kix_esllgm5qwjmj-2>li{counter-increment:lst-ctn-kix_esllgm5qwjmj-2}ol.lst-kix_2q4szhtd9fq-6.start{counter-reset:lst-ctn-kix_2q4szhtd9fq-6 0}.lst-kix_3uk69x9d6vpu-6>li{counter-increment:lst-ctn-kix_3uk69x9d6vpu-6}.lst-kix_r6xkphimrv5l-7>li{counter-increment:lst-ctn-kix_r6xkphimrv5l-7}.lst-kix_b5zo2cha9hk-7>li{counter-increment:lst-ctn-kix_b5zo2cha9hk-7}.lst-kix_2midx1c9mfg-3>li{counter-increment:lst-ctn-kix_2midx1c9mfg-3}ol.lst-kix_esllgm5qwjmj-2.start{counter-reset:lst-ctn-kix_esllgm5qwjmj-2 0}ol.lst-kix_3uk69x9d6vpu-0.start{counter-reset:lst-ctn-kix_3uk69x9d6vpu-0 0}.lst-kix_2q4szhtd9fq-0>li:before{content:"" counter(lst-ctn-kix_2q4szhtd9fq-0,decimal) ". "}.lst-kix_2q4szhtd9fq-6>li{counter-increment:lst-ctn-kix_2q4szhtd9fq-6}.lst-kix_3uk69x9d6vpu-4>li{counter-increment:lst-ctn-kix_3uk69x9d6vpu-4}.lst-kix_esllgm5qwjmj-4>li{counter-increment:lst-ctn-kix_esllgm5qwjmj-4}.lst-kix_2q4szhtd9fq-2>li:before{content:"" counter(lst-ctn-kix_2q4szhtd9fq-2,lower-roman) ". "}.lst-kix_2q4szhtd9fq-1>li:before{content:"" counter(lst-ctn-kix_2q4szhtd9fq-1,lower-latin) ". "}.lst-kix_2q4szhtd9fq-3>li:before{content:"" counter(lst-ctn-kix_2q4szhtd9fq-3,decimal) ". "}ol.lst-kix_2q4szhtd9fq-0.start{counter-reset:lst-ctn-kix_2q4szhtd9fq-0 0}ol.lst-kix_esllgm5qwjmj-6{list-style-type:none}ol.lst-kix_3uk69x9d6vpu-2{list-style-type:none}ol.lst-kix_esllgm5qwjmj-5{list-style-type:none}ol.lst-kix_3uk69x9d6vpu-1{list-style-type:none}.lst-kix_2midx1c9mfg-1>li{counter-increment:lst-ctn-kix_2midx1c9mfg-1}ol.lst-kix_esllgm5qwjmj-4{list-style-type:none}ol.lst-kix_3uk69x9d6vpu-0{list-style-type:none}ol.lst-kix_esllgm5qwjmj-3{list-style-type:none}ol.lst-kix_esllgm5qwjmj-2{list-style-type:none}ol.lst-kix_esllgm5qwjmj-1{list-style-type:none}ol.lst-kix_esllgm5qwjmj-0{list-style-type:none}.lst-kix_r6xkphimrv5l-1>li:before{content:"" counter(lst-ctn-kix_r6xkphimrv5l-1,lower-latin) ". "}ol.lst-kix_3uk69x9d6vpu-8{list-style-type:none}.lst-kix_2q4szhtd9fq-1>li{counter-increment:lst-ctn-kix_2q4szhtd9fq-1}ol.lst-kix_3uk69x9d6vpu-7{list-style-type:none}ol.lst-kix_3uk69x9d6vpu-6{list-style-type:none}.lst-kix_r6xkphimrv5l-0>li:before{content:"" counter(lst-ctn-kix_r6xkphimrv5l-0,decimal) ". "}ol.lst-kix_3uk69x9d6vpu-5{list-style-type:none}ol.lst-kix_3uk69x9d6vpu-4{list-style-type:none}ol.lst-kix_3uk69x9d6vpu-3{list-style-type:none}ol.lst-kix_2q4szhtd9fq-7.start{counter-reset:lst-ctn-kix_2q4szhtd9fq-7 0}ol.lst-kix_2q4szhtd9fq-1.start{counter-reset:lst-ctn-kix_2q4szhtd9fq-1 0}.lst-kix_r6xkphimrv5l-2>li:before{content:"" counter(lst-ctn-kix_r6xkphimrv5l-2,lower-roman) ". "}.lst-kix_r6xkphimrv5l-5>li{counter-increment:lst-ctn-kix_r6xkphimrv5l-5}.lst-kix_r6xkphimrv5l-3>li:before{content:"" counter(lst-ctn-kix_r6xkphimrv5l-3,decimal) ". "}.lst-kix_r6xkphimrv5l-4>li:before{content:"" counter(lst-ctn-kix_r6xkphimrv5l-4,lower-latin) ". "}.lst-kix_2midx1c9mfg-7>li{counter-increment:lst-ctn-kix_2midx1c9mfg-7}.lst-kix_2q4szhtd9fq-6>li:before{content:"" counter(lst-ctn-kix_2q4szhtd9fq-6,decimal) ". "}.lst-kix_r6xkphimrv5l-5>li:before{content:"" counter(lst-ctn-kix_r6xkphimrv5l-5,lower-roman) ". "}.lst-kix_r6xkphimrv5l-6>li:before{content:"" counter(lst-ctn-kix_r6xkphimrv5l-6,decimal) ". "}.lst-kix_2q4szhtd9fq-5>li:before{content:"" counter(lst-ctn-kix_2q4szhtd9fq-5,lower-roman) ". "}.lst-kix_2q4szhtd9fq-7>li:before{content:"" counter(lst-ctn-kix_2q4szhtd9fq-7,lower-latin) ". "}.lst-kix_2q4szhtd9fq-4>li:before{content:"" counter(lst-ctn-kix_2q4szhtd9fq-4,lower-latin) ". "}.lst-kix_2q4szhtd9fq-8>li:before{content:"" counter(lst-ctn-kix_2q4szhtd9fq-8,lower-roman) ". "}.lst-kix_qqc7kkr7tiek-1>li{counter-increment:lst-ctn-kix_qqc7kkr7tiek-1}.lst-kix_r6xkphimrv5l-7>li:before{content:"" counter(lst-ctn-kix_r6xkphimrv5l-7,lower-latin) ". "}.lst-kix_r6xkphimrv5l-8>li:before{content:"" counter(lst-ctn-kix_r6xkphimrv5l-8,lower-roman) ". "}.lst-kix_hjxc89gpmguc-6>li:before{content:"\0025cf  "}.lst-kix_3uk69x9d6vpu-1>li{counter-increment:lst-ctn-kix_3uk69x9d6vpu-1}.lst-kix_2q4szhtd9fq-3>li{counter-increment:lst-ctn-kix_2q4szhtd9fq-3}.lst-kix_esllgm5qwjmj-7>li{counter-increment:lst-ctn-kix_esllgm5qwjmj-7}.lst-kix_2midx1c9mfg-4>li:before{content:"" counter(lst-ctn-kix_2midx1c9mfg-4,lower-latin) ". "}.lst-kix_2midx1c9mfg-8>li:before{content:"" counter(lst-ctn-kix_2midx1c9mfg-8,lower-roman) ". "}.lst-kix_b5zo2cha9hk-4>li{counter-increment:lst-ctn-kix_b5zo2cha9hk-4}.lst-kix_hjxc89gpmguc-0>li:before{content:"\0025cf  "}.lst-kix_hjxc89gpmguc-8>li:before{content:"\0025a0  "}.lst-kix_2midx1c9mfg-6>li:before{content:"" counter(lst-ctn-kix_2midx1c9mfg-6,decimal) ". "}.lst-kix_r6xkphimrv5l-0>li{counter-increment:lst-ctn-kix_r6xkphimrv5l-0}ol.lst-kix_b5zo2cha9hk-0.start{counter-reset:lst-ctn-kix_b5zo2cha9hk-0 0}.lst-kix_2midx1c9mfg-0>li:before{content:"" counter(lst-ctn-kix_2midx1c9mfg-0,decimal) ". "}.lst-kix_2midx1c9mfg-8>li{counter-increment:lst-ctn-kix_2midx1c9mfg-8}.lst-kix_hjxc89gpmguc-2>li:before{content:"\0025a0  "}ol.lst-kix_esllgm5qwjmj-6.start{counter-reset:lst-ctn-kix_esllgm5qwjmj-6 0}ol.lst-kix_r6xkphimrv5l-0.start{counter-reset:lst-ctn-kix_r6xkphimrv5l-0 0}.lst-kix_hjxc89gpmguc-4>li:before{content:"\0025cb  "}.lst-kix_2midx1c9mfg-2>li:before{content:"" counter(lst-ctn-kix_2midx1c9mfg-2,lower-roman) ". "}ol.lst-kix_3uk69x9d6vpu-6.start{counter-reset:lst-ctn-kix_3uk69x9d6vpu-6 0}.lst-kix_b5zo2cha9hk-2>li{counter-increment:lst-ctn-kix_b5zo2cha9hk-2}ol.lst-kix_qqc7kkr7tiek-4.start{counter-reset:lst-ctn-kix_qqc7kkr7tiek-4 0}ol.lst-kix_r6xkphimrv5l-3.start{counter-reset:lst-ctn-kix_r6xkphimrv5l-3 0}ol.lst-kix_esllgm5qwjmj-8{list-style-type:none}ol.lst-kix_esllgm5qwjmj-7{list-style-type:none}.lst-kix_3uk69x9d6vpu-5>li:before{content:"" counter(lst-ctn-kix_3uk69x9d6vpu-5,lower-roman) ". "}.lst-kix_r6xkphimrv5l-1>li{counter-increment:lst-ctn-kix_r6xkphimrv5l-1}ol.lst-kix_2midx1c9mfg-7.start{counter-reset:lst-ctn-kix_2midx1c9mfg-7 0}ol.lst-kix_3uk69x9d6vpu-3.start{counter-reset:lst-ctn-kix_3uk69x9d6vpu-3 0}.lst-kix_qqc7kkr7tiek-8>li{counter-increment:lst-ctn-kix_qqc7kkr7tiek-8}.lst-kix_3uk69x9d6vpu-7>li:before{content:"" counter(lst-ctn-kix_3uk69x9d6vpu-7,lower-latin) ". "}ol.lst-kix_2midx1c9mfg-4.start{counter-reset:lst-ctn-kix_2midx1c9mfg-4 0}.lst-kix_3uk69x9d6vpu-3>li{counter-increment:lst-ctn-kix_3uk69x9d6vpu-3}ol.lst-kix_esllgm5qwjmj-8.start{counter-reset:lst-ctn-kix_esllgm5qwjmj-8 0}.lst-kix_qqc7kkr7tiek-0>li:before{content:"" counter(lst-ctn-kix_qqc7kkr7tiek-0,decimal) ". "}.lst-kix_qqc7kkr7tiek-2>li:before{content:"" counter(lst-ctn-kix_qqc7kkr7tiek-2,lower-roman) ". "}ul.lst-kix_hjxc89gpmguc-0{list-style-type:none}ul.lst-kix_hjxc89gpmguc-1{list-style-type:none}ol.lst-kix_r6xkphimrv5l-2.start{counter-reset:lst-ctn-kix_r6xkphimrv5l-2 0}.lst-kix_qqc7kkr7tiek-6>li:before{content:"" counter(lst-ctn-kix_qqc7kkr7tiek-6,decimal) ". "}ol.lst-kix_2q4szhtd9fq-0{list-style-type:none}ol.lst-kix_2midx1c9mfg-6.start{counter-reset:lst-ctn-kix_2midx1c9mfg-6 0}ol.lst-kix_2q4szhtd9fq-2{list-style-type:none}ol.lst-kix_2q4szhtd9fq-1{list-style-type:none}ol.lst-kix_qqc7kkr7tiek-7.start{counter-reset:lst-ctn-kix_qqc7kkr7tiek-7 0}ol.lst-kix_2q4szhtd9fq-8{list-style-type:none}ol.lst-kix_2q4szhtd9fq-7{list-style-type:none}.lst-kix_qqc7kkr7tiek-4>li:before{content:"" counter(lst-ctn-kix_qqc7kkr7tiek-4,lower-latin) ". "}ol.lst-kix_2q4szhtd9fq-4{list-style-type:none}ol.lst-kix_2q4szhtd9fq-3{list-style-type:none}.lst-kix_qqc7kkr7tiek-3>li{counter-increment:lst-ctn-kix_qqc7kkr7tiek-3}ol.lst-kix_2q4szhtd9fq-6{list-style-type:none}ol.lst-kix_2q4szhtd9fq-5{list-style-type:none}ol.lst-kix_esllgm5qwjmj-7.start{counter-reset:lst-ctn-kix_esllgm5qwjmj-7 0}.lst-kix_esllgm5qwjmj-0>li{counter-increment:lst-ctn-kix_esllgm5qwjmj-0}.lst-kix_3uk69x9d6vpu-2>li{counter-increment:lst-ctn-kix_3uk69x9d6vpu-2}ol.lst-kix_3uk69x9d6vpu-4.start{counter-reset:lst-ctn-kix_3uk69x9d6vpu-4 0}.lst-kix_qqc7kkr7tiek-8>li:before{content:"" counter(lst-ctn-kix_qqc7kkr7tiek-8,lower-roman) ". "}.lst-kix_2midx1c9mfg-2>li{counter-increment:lst-ctn-kix_2midx1c9mfg-2}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_esllgm5qwjmj-6>li{counter-increment:lst-ctn-kix_esllgm5qwjmj-6}ul.lst-kix_hjxc89gpmguc-6{list-style-type:none}ul.lst-kix_hjxc89gpmguc-7{list-style-type:none}ul.lst-kix_hjxc89gpmguc-8{list-style-type:none}ul.lst-kix_hjxc89gpmguc-2{list-style-type:none}.lst-kix_b5zo2cha9hk-3>li{counter-increment:lst-ctn-kix_b5zo2cha9hk-3}.lst-kix_2q4szhtd9fq-2>li{counter-increment:lst-ctn-kix_2q4szhtd9fq-2}ul.lst-kix_hjxc89gpmguc-3{list-style-type:none}ul.lst-kix_hjxc89gpmguc-4{list-style-type:none}ul.lst-kix_hjxc89gpmguc-5{list-style-type:none}ol.lst-kix_r6xkphimrv5l-1.start{counter-reset:lst-ctn-kix_r6xkphimrv5l-1 0}ol.lst-kix_qqc7kkr7tiek-6.start{counter-reset:lst-ctn-kix_qqc7kkr7tiek-6 0}ol{margin:0;padding:0}table td,table th{padding:0}.c1{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-right-width:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.75;border-left-width:0pt;border-top-style:solid;background-color:#ffffff;text-indent:12pt;border-left-style:solid;border-bottom-width:0pt;border-bottom-style:solid;orphans:2;widows:2;text-align:left;padding-right:0pt}.c31{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-right-width:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.5;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;border-bottom-style:solid;orphans:2;widows:2;text-align:left;padding-right:0pt}.c30{border-right-style:solid;padding-top:6pt;border-top-width:0pt;border-right-width:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.125;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;border-bottom-style:solid;orphans:2;widows:2;text-align:left;padding-right:0pt}.c22{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-right-width:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.75;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;border-bottom-style:solid;orphans:2;widows:2;text-align:left;padding-right:0pt}.c47{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-right-width:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.0;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;border-bottom-style:solid;orphans:2;widows:2;text-align:left;padding-right:0pt}.c16{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-right-width:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.75;border-top-style:solid;margin-left:54pt;border-bottom-width:0pt;border-bottom-style:solid;orphans:2;widows:2;text-align:left;padding-right:0pt}.c34{border-right-style:solid;padding:11pt 11pt 11pt 11pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:82.5pt;border-top-color:#000000;border-bottom-style:solid}.c62{border-right-style:solid;padding:11pt 11pt 11pt 11pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:342.8pt;border-top-color:#000000;border-bottom-style:solid}.c54{border-right-style:solid;padding:11pt 11pt 11pt 11pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:425.2pt;border-top-color:#000000;border-bottom-style:solid}.c58{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:349.5pt;border-top-color:#000000;border-bottom-style:solid}.c63{border-right-style:solid;padding:11pt 11pt 11pt 11pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:349.5pt;border-top-color:#000000;border-bottom-style:solid}.c61{border-right-style:solid;padding:11pt 11pt 11pt 11pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:75.8pt;border-top-color:#000000;border-bottom-style:solid}.c43{border-right-style:solid;padding:11pt 11pt 11pt 11pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:75.8pt;border-top-color:#000000;border-bottom-style:solid}.c20{border-right-style:solid;padding:11pt 11pt 11pt 11pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:342.8pt;border-top-color:#000000;border-bottom-style:solid}.c56{border-right-style:solid;padding:11pt 11pt 11pt 11pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:82.5pt;border-top-color:#000000;border-bottom-style:solid}.c5{border-right-style:solid;padding:11pt 11pt 11pt 11pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:349.5pt;border-top-color:#000000;border-bottom-style:solid}.c0{-webkit-text-decoration-skip:none;color:#d3002d;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-size:12pt;font-family:"Times New Roman";font-style:italic}.c3{background-color:#ffffff;color:#3d3b49;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Times New Roman";font-style:italic}.c7{color:#3d3b49;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:14.5pt;font-family:"Times New Roman";font-style:normal}.c23{-webkit-text-decoration-skip:none;color:#d3002d;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-size:9pt;font-family:"Times New Roman"}.c9{color:#3d3b49;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Times New Roman";font-style:normal}.c36{padding-top:24pt;padding-bottom:42pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c35{background-color:#eeeeee;-webkit-text-decoration-skip:none;color:#d3002d;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-family:"Times New Roman"}.c53{-webkit-text-decoration-skip:none;color:#d3002d;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none;font-size:9pt;font-family:"Times New Roman"}.c26{padding-top:18pt;padding-bottom:18pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c6{padding-top:24pt;padding-bottom:24pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c19{padding-top:24pt;padding-bottom:42pt;line-height:1.75;orphans:2;widows:2;text-align:left}.c14{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c11{background-color:#eef2f6;color:#188038;font-weight:400;font-size:9pt;font-family:"Courier New";font-style:italic}.c51{background-color:#000000;color:#ffffff;font-weight:700;font-size:23.5pt;font-family:"Times New Roman"}.c48{background-color:#eeeeee;color:#018c8c;font-weight:700;font-size:11.5pt;font-family:"Arial"}.c13{background-color:#eef2f6;font-size:12pt;font-family:"Courier New";color:#3d3b49;font-weight:700}.c55{background-color:#000000;color:#ffffff;font-weight:700;font-size:10pt;font-family:"Arial"}.c2{background-color:#eef2f6;font-size:12pt;font-family:"Courier New";color:#188038;font-weight:400}.c40{background-color:#eeeeee;color:#018c8c;font-weight:700;font-size:9pt;font-family:"Arial"}.c4{background-color:#eef2f6;font-size:12pt;font-family:"Courier New";color:#3d3b49;font-weight:400}.c39{font-size:12pt;font-family:"Courier New";color:#3d3b49;font-weight:400}.c38{border-spacing:0;border-collapse:collapse;margin-right:auto}.c15{font-size:12pt;font-family:"Times New Roman";color:#3d3b49;font-weight:700}.c27{color:#3d3b49;font-weight:400;font-size:9pt;font-family:"Times New Roman"}.c10{background-color:#eeeeee;font-family:"Times New Roman";color:#3d3b49;font-weight:400}.c37{background-color:#eef2f6;font-family:"Courier New";color:#188038;font-weight:400}.c12{font-size:12pt;font-family:"Times New Roman";color:#3d3b49;font-weight:400}.c60{color:#3d3b49;font-weight:700;font-size:54pt;font-family:"Times New Roman"}.c49{color:#000000;font-weight:400;font-size:11pt;font-family:"Arial"}.c33{color:#3d3b49;font-weight:400;font-size:12pt;font-family:"Arial"}.c42{font-size:9.5pt;font-family:"Times New Roman";color:#3d3b49;font-weight:400}.c57{color:#3d3b49;font-weight:700;font-size:40.5pt;font-family:"Times New Roman"}.c52{background-color:#eeeeee;font-family:"Times New Roman";color:#3d3b49;font-weight:700}.c29{color:#3d3b49;font-weight:700;font-size:23.5pt;font-family:"Times New Roman"}.c32{font-size:12pt;color:#3d3b49;font-weight:700}.c17{text-decoration:none;vertical-align:baseline;font-style:normal}.c44{padding:0;margin:0}.c25{text-decoration:none;vertical-align:baseline}.c18{color:inherit;text-decoration:inherit}.c59{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c8{background-color:#ffffff}.c65{height:147pt}.c24{height:84pt}.c45{height:126pt}.c41{height:42pt}.c21{font-style:italic}.c46{height:11pt}.c50{font-size:11pt}.c28{height:63pt}.c64{text-indent:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c8 c59 doc-content"><h1 class="c31" id="h.mjz5w4ve7lgz"><span class="c17 c8 c60">4</span></h1><h1 class="c31" id="h.mjz5w4ve7lgz-1"><span class="c57 c17 c8">YOUR API HACKING SYSTEM</span></h1><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.67px; height: 800.00px;"><img alt="" src="images/image14.png" style="width: 610.67px; height: 800.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c22 c8"><span class="c9">This chapter will walk you through setting up your API hacking toolkit. We&rsquo;ll cover three especially useful tools for API hackers: Chrome DevTools, Burp Suite, and Postman.</span></p><p class="c1"><span class="c9">In addition to exploring features included in the paid Burp Suite Pro version, I&rsquo;ll provide a list of tools that can compensate for the features missing from the free Burp Suite Community Edition, as well as several other tools useful for discovering and exploiting API vulnerabilities. At the end of this chapter, we&rsquo;ll walk through a lab in which you&rsquo;ll learn to use some of these tools to interact with our first APIs.</span></p><h2 class="c31 c8" id="h.hq3qsf5dchx4"><span class="c17 c29">Kali Linux</span></h2><p class="c22 c8"><span class="c12">Throughout this book, we&rsquo;ll run tools and labs using Kali, an open-source Debian-based distribution of Linux. Kali is built for penetration testing and comes with many useful tools already installed. You can download Kali at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://www.kali.org/downloads&amp;sa=D&amp;source=editors&amp;ust=1681144430755981&amp;usg=AOvVaw1POkxJuazKigWkRQlmg1sY">https://www.kali.org/downloads</a></span><span class="c12">. Plenty of guides can walk you through setting up your hypervisor of choice and installing Kali onto it. I recommend using Null Byte&rsquo;s &ldquo;How to Get Started with Kali Linux&rdquo; or the tutorial at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://www.kali.org/docs/installation&amp;sa=D&amp;source=editors&amp;ust=1681144430756670&amp;usg=AOvVaw3PsyD9K_lAZNCYAIUciAwn">https://www.kali.org/docs/installation</a></span><span class="c9">.</span></p><p class="c1"><span class="c9">After your instance of Kali is set up, open a terminal and perform an update and upgrade:</span></p><p class="c14"><span class="c4">$ </span><span class="c13">sudo apt update</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">sudo apt full-upgrade -y</span></p><p class="c1"><span class="c9">Next, install Git, Python 3, and Golang (Go), which you&rsquo;ll need to use some of the other tools in your hacking box:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">sudo apt-get install git python3 golang</span></p><p class="c1"><span class="c9">With these basics installed, you should be prepared to set up the remainder of the API hacking tools.</span></p><h2 class="c31 c8" id="h.puyomssbjtjy"><span class="c29 c17">Analyzing Web Apps with DevTools</span></h2><p class="c22 c8"><span class="c9">Chrome&rsquo;s DevTools is a suite of developer tools built into the Chrome browser that allows you to view what your web browser is running from a web developer&rsquo;s perspective. DevTools is an often-underrated resource, but it can be very useful for API hackers. We&rsquo;ll use it for our first interactions with target web applications to discover APIs; interact with web applications using the console; view headers, previews, and responses; and analyze web application source files.</span></p><p class="c1"><span class="c9">To install Chrome, which includes DevTools, run the following commands:</span></p><p class="c14"><span class="c4">$ </span><span class="c13">sudo wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">sudo apt install ./google-chrome-stable_current_amd64.deb</span></p><p class="c1"><span class="c12">You can launch Chrome through the command line with the </span><span class="c2">google-chrome</span><span class="c12">&nbsp;command. Once you have Chrome running, navigate to the URL you want to investigate and launch DevTools by using either CTRL-SHIFT-I or F12 or navigating to </span><span class="c15">Settings</span><span class="c42">&#9654;</span><span class="c15">More Tools</span><span class="c12">&nbsp;and selecting the </span><span class="c15">Developer Tools</span><span class="c12">&nbsp;menu. Next, refresh your current page to update the information in the DevTools panels. You can do this by using the CTRL-R shortcut. In the Network panel, you should see the various resources requested from APIs (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-1&amp;sa=D&amp;source=editors&amp;ust=1681144430759681&amp;usg=AOvVaw0HG7vISsVEPq65IamRzO5j">Figure 4-1</a></span><span class="c9">).</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 362.67px;"><img alt="Screenshot of a DevTools panel populated with a list of requests that have 200 status codes" src="images/image12.png" style="width: 624.00px; height: 362.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-1</span><span class="c3">: The Chrome DevTools Network panel</span></p><p class="c1"><span class="c12">Switch panels by selecting the desired tab at the top. The DevTools panel lists the functionality of the different table options. I&rsquo;ve summarized these in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23table4-1&amp;sa=D&amp;source=editors&amp;ust=1681144430760777&amp;usg=AOvVaw3yreklasvq_9oCCA80tNoX">Table 4-1</a></span><span class="c9">.</span></p><p class="c30"><span class="c53 c8">Table 4-1</span><span class="c3">: DevTools Panels</span></p><a id="t.8eeaa4a0758fa92e6abd048715fb2e10ff6a7a03"></a><a id="t.0"></a><table class="c38"><tr class="c41"><td class="c56" colspan="1" rowspan="1"><p class="c19"><span class="c8 c32">Panel</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c19"><span class="c32 c8">Function</span></p></td></tr><tr class="c24"><td class="c34" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Elements</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Allows you to view the current page&rsquo;s CSS and Document Object Model (DOM), which enables you to inspect the HTML that constructs the web page.</span></p></td></tr><tr class="c28"><td class="c34" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Console</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Provides you with alerts and lets you interact with the JavaScript debugger to alter the current web page.</span></p></td></tr><tr class="c28"><td class="c34" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Sources</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Contains the directories that make up the web application and the content of the source files.</span></p></td></tr><tr class="c28"><td class="c34" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Network</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Lists all the source file requests that make up the client&rsquo;s perspective of the web application.</span></p></td></tr><tr class="c28"><td class="c34" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Performance</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Provides a way to record and analyze all the events that take place when loading a web page.</span></p></td></tr><tr class="c28"><td class="c34" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Memory</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Lets you record and analyze how the browser is interacting with your system&rsquo;s memory.</span></p></td></tr><tr class="c28"><td class="c34" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Application</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Provides you with the application manifest, storage items (like cookies and session information), cache, and background services.</span></p></td></tr><tr class="c28"><td class="c34" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Security</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Provides insight regarding the transit encryption, source content origins, and certificate details.</span></p></td></tr></table><p class="c1"><span class="c12">When we first begin interacting with a web application, we&rsquo;ll usually start with the Network panel to get an overview of the resources that power the web application. In </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-1&amp;sa=D&amp;source=editors&amp;ust=1681144430770215&amp;usg=AOvVaw3wlMnmAvtrdvyq0IEE282f">Figure 4-1</a></span><span class="c9">, each of the items listed represents a request that was made for a specific resource. Using the Network panel, you can drill down into each request to see the request method that was used, the response status code, the headers, and the response body. To do this, click the name of the URL of interest once under the Name column. This will open up a panel on the right side of the DevTools. Now you can review the request that was made under the Headers tab and see how the server responded under the Response tab.</span></p><p class="c1"><span class="c9">Diving deeper into the web application, you can use the Sources panel to inspect the source files being used in the app. In capture-the-flag (CTF) events (and occasionally in reality) you may find API keys or other hardcoded secrets here. The Sources panel comes equipped with strong search functionality that will help you easily discover the inner workings of the application.</span></p><p class="c1"><span class="c9">The Console panel is useful for running and debugging the web page&rsquo;s JavaScript. You can use it to detect errors, view warnings, and execute commands. You will get an opportunity to use the Console panel in the lab in Chapter 6.</span></p><p class="c1"><span class="c12">We will spend the majority of our time in the Console, Sources, and Network panels. However, the other panels can be useful as well. For example, the Performance panel is mainly used to improve a website&rsquo;s speed, but we could also use it to observe at what point a web application interacts with an API, as shown in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-2&amp;sa=D&amp;source=editors&amp;ust=1681144430771583&amp;usg=AOvVaw1cfdL-YK-bA0458FcIbcGx">Figure 4-2</a></span><span class="c9">.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 258.67px;"><img alt="Screenshot of a DevTools graph on which a point is labeled &ldquo;client_event.json (api.twitter.com).&rdquo;" src="images/image3.png" style="width: 624.00px; height: 258.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-2</span><span class="c3">: The DevTool&rsquo;s Performance tab showing the exact moment the Twitter application interacted with the Twitter API</span></p><p class="c1"><span class="c12">In </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-2&amp;sa=D&amp;source=editors&amp;ust=1681144430772588&amp;usg=AOvVaw1VB_PZ7ycw4Vu3Ehl36e7r">Figure 4-2</a></span><span class="c9">&nbsp;we see that, 1,700 milliseconds in, a client event triggered the Twitter application to interact with the API. As the client, we would then be able to correlate that event to an action we took on the page, such as authenticating to the web app, to know what the web application is using the API for. The more information we can gather before attacking an API, the better our odds will be at finding and exploiting vulnerabilities.</span></p><p class="c1"><span class="c12">For more information about DevTools, check out the Google Developers documentation at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://developers.google.com/web/tools/chrome-devtools&amp;sa=D&amp;source=editors&amp;ust=1681144430773115&amp;usg=AOvVaw0AbNxiNGOb6uF0pUeCE60s">https://developers.google.com/web/tools/chrome-devtools</a></span><span class="c9">.</span></p><h2 class="c31 c8" id="h.adbx263970ql"><span class="c29 c17">Capturing and Modifying Requests with Burp Suite</span></h2><p class="c22 c8"><span class="c9">Burp Suite is a magnificent set of web application&ndash;testing tools developed and continuously improved on by PortSwigger. All web app cybersecurity professionals, bug bounty hunters, and API hackers should learn to use Burp, which allows you to capture API requests, spider web applications, fuzz APIs, and so much more.</span></p><p class="c1"><span class="c12 c21">Spidering</span><span class="c12">, or </span><span class="c12 c21">web crawling</span><span class="c12">, is a method that bots use to automatically detect the URL paths and resources of a host. Typically, spidering is done by scanning the HTML of web pages for hyperlinks. Spidering is a good way to get a basic idea of the contents of a web page, but it won&rsquo;t be able to find </span><span class="c12 c21">hidden</span><span class="c9">&nbsp;paths, or the ones that do not have links found within web pages. To find hidden paths, we&rsquo;ll need to use a tool like Kiterunner that effectively performs directory brute-force attacks. In such an attack, an application will request various possible URL paths and validate whether they actually exist based on the host&rsquo;s responses.</span></p><p class="c1"><span class="c12">As described by the OWASP community page on the topic, </span><span class="c12 c21">fuzzing</span><span class="c9">&nbsp;is &ldquo;the art of automatic bug finding.&rdquo; Using this attack technique, we&rsquo;d send various types of input in HTTP requests, trying to find an input or payload that causes an application to respond in unexpected ways and reveal a vulnerability. For example, if you were attacking an API and discovered you could post data to the API provider, you could then attempt to send it various SQL commands. If the provider doesn&rsquo;t sanitize this input, there is a chance you could receive a response that indicates that a SQL database is in use.</span></p><p class="c1"><span class="c9">Burp Suite Pro, the paid edition of Burp, provides all the features without restrictions, but if using the free Burp Suite Community Edition (CE) is your only option, you can make it work. However, once you&rsquo;ve obtained a bug bounty reward or as soon as you can convince your employer, you should make the jump to Burp Suite Pro. This chapter includes a &ldquo;Supplemental Tools&rdquo; section that will help replace the functionality missing in Burp Suite CE.</span></p><p class="c1"><span class="c9">Burp Suite CE is included standard with the latest version of Kali. If for whatever reason it is not installed, run the following:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">sudo apt-get install burpsuite</span></p><h2 class="c47" id="h.4i1zfuquragt"><span class="c17 c55">NOTE</span></h2><p class="c22"><span class="c12 c8 c21">Burp Suite provides a full-featured 30-day trial version of Burp Suite Pro at </span><span class="c0 c8"><a class="c18" href="https://www.google.com/url?q=https://portswigger.net/requestfreetrial/pro&amp;sa=D&amp;source=editors&amp;ust=1681144430774914&amp;usg=AOvVaw1WlUFQrWJbekCRHEDn-7WF">https://portswigger.net/requestfreetrial/pro</a></span><span class="c12 c8 c21">. For further instructions on using Burp Suite, visit </span><span class="c0 c8"><a class="c18" href="https://www.google.com/url?q=https://portswigger.net/burp/communitydownload&amp;sa=D&amp;source=editors&amp;ust=1681144430775298&amp;usg=AOvVaw0yEQG7PCXatjetrE3hV5TY">https://portswigger.net/burp/communitydownload</a></span><span class="c12 c25 c8 c21">.</span></p><p class="c1"><span class="c9">In the following sections, we will prepare our API hacking rig to use Burp Suite, look at an overview of the various Burp modules, learn how to intercept HTTP requests, dive deeper into the Intruder module, and go over some of the sweet extensions you can use to enhance Burp Suite Pro.</span></p><h3 class="c31 c8" id="h.hi3p6wq3ilot"><span class="c7">Setting Up FoxyProxy</span></h3><p class="c22 c8"><span class="c9">One of Burp Suite&rsquo;s key features is the ability to intercept HTTP requests. In other words, Burp Suite receives your requests before forwarding them to the server and then receives the server&rsquo;s responses before sending them to the browser, allowing you to view and interact with those requests and responses. For this feature to work, we&rsquo;ll need to regularly send requests from the browser to Burp Suite. This is done with the use of a web proxy. The proxy is a way for us to reroute web browser traffic to Burp before it is sent to the API provider. To simplify this process, we&rsquo;ll add a tool called FoxyProxy to our browsers to help us proxy traffic with a click of a button.</span></p><p class="c1"><span class="c9">Web browsers have proxy functionality built in, but changing and updating these settings every time you want to use Burp would be a time-consuming pain. Instead, we&rsquo;ll use a browser add-on called FoxyProxy that lets you switch your proxy on and off with a simple click of a button. FoxyProxy is available for both Chrome and Firefox.</span></p><p class="c1"><span class="c9">Follow these steps to install FoxyProxy:</span></p><ol class="c44 lst-kix_b5zo2cha9hk-0 start" start="1"><li class="c16 c8 li-bullet-0"><span class="c12">Navigate to your browser&rsquo;s add-on or plug-in store and search </span><span class="c15">FoxyProxy</span><span class="c9">.</span></li><li class="c16 c8 li-bullet-0"><span class="c9">Install FoxyProxy Standard and add it to your browser.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Click the fox icon at the top-right corner of your browser (next to your URL) and select </span><span class="c15">Options</span><span class="c9">.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Select </span><span class="c15">Proxies</span><span class="c42">&#9654;</span><span class="c15">Add New Proxy</span><span class="c42">&#9654;</span><span class="c15">Manual Proxy Configuration</span><span class="c9">.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Add </span><span class="c15">127.0.0.1</span><span class="c9">&nbsp;as the host IP address.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Update the port to </span><span class="c15">8080 </span><span class="c9">(Burp Suite&rsquo;s default proxy settings).</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Under the General tab, rename the proxy to </span><span class="c15">Hackz</span><span class="c9">&nbsp;(I will refer to this proxy setting throughout the labs).</span></li></ol><p class="c1"><span class="c9">Now you&rsquo;ll only need to click the browser add-on and select the proxy you want to use to send your traffic to Burp. When you&rsquo;ve finished intercepting requests, you can turn the proxy off by selecting the Disable FoxyProxy option.</span></p><h3 class="c31 c8" id="h.q1t0hjqhyc7q"><span class="c7">Adding the Burp Suite Certificate</span></h3><p class="c22 c8"><span class="c12 c21">HTTP Strict Transport Security (HSTS) </span><span class="c9">is a common web application security policy that prevents Burp Suite from being able to intercept requests. Whether using Burp Suite CE or Burp Suite Pro, you will need to install Burp Suite&rsquo;s certificate authority (CA) certificate. To add this certificate, follow these steps:</span></p><ol class="c44 lst-kix_esllgm5qwjmj-0 start" start="1"><li class="c16 c8 li-bullet-0"><span class="c9">Start Burp Suite.</span></li><li class="c16 c8 li-bullet-0"><span class="c9">Open your browser of choice.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Using FoxyProxy, select the Hackz proxy. Navigate to </span><span class="c12 c21">http://burpsuite</span><span class="c12">, as seen in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-3&amp;sa=D&amp;source=editors&amp;ust=1681144430778405&amp;usg=AOvVaw3Ya_EdFcCKlrLXAPf_Vexm">Figure 4-3</a></span><span class="c12">, and click </span><span class="c15">CA Certificate</span><span class="c12">. This will initiate the download of the Burp Suite CA certificate.</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 402.67px; height: 205.33px;"><img alt="F04003" src="images/image25.png" style="width: 402.67px; height: 205.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c12"><br></span><span class="c0">Figure 4-3</span><span class="c12 c25 c21">: The landing page you should see when downloading Burp Suite&rsquo;s CA certificate</span></li><li class="c8 c16 li-bullet-0"><span class="c9">Save the certificate somewhere you can find it.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Open your browser and import the certificate. In Firefox, open </span><span class="c15">Preferences</span><span class="c12">&nbsp;and use the search bar to look up </span><span class="c15">certificates</span><span class="c9">. Import the certificate.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">In Chrome, open </span><span class="c15">Settings</span><span class="c12">, use the search bar to look up </span><span class="c15">certificates</span><span class="c12">, select </span><span class="c15">More</span><span class="c42">&#9654;</span><span class="c15">Manage Certificates</span><span class="c42">&#9654;</span><span class="c15">Authorities</span><span class="c12">, and import the certificate (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-4&amp;sa=D&amp;source=editors&amp;ust=1681144430779777&amp;usg=AOvVaw2h3if8JVGPXXXY74aQOGEL">Figure 4-4</a></span><span class="c12">). If you do not see the certificate, you may need to expand the file type options to &ldquo;DER&rdquo; or &ldquo;All files.&rdquo;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 566.67px; height: 409.33px;"><img alt="F04004" src="images/image24.png" style="width: 566.67px; height: 409.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c12"><br></span><span class="c0">Figure 4-4</span><span class="c12 c25 c21">: The Chrome Certificate Manager with the Authorities tab selected</span></li></ol><p class="c1"><span class="c9">Now that you have the PortSwigger CA certificate added to your browser, you should be able to intercept traffic without experiencing issues.</span></p><h3 class="c31 c8" id="h.2idncmrv5g21"><span class="c7">Navigating Burp Suite</span></h3><p class="c22 c8"><span class="c12">As you can see in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-5&amp;sa=D&amp;source=editors&amp;ust=1681144430780759&amp;usg=AOvVaw3l3DzZHw71OTHQPTeE8Tq1">Figure 4-5</a></span><span class="c9">, at the top of Burp are 13 modules.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 46.67px;"><img alt="Screenshot of menu items including Comparer, Logger, Extender, Project options, User options, Learn, Dashboard, Target, Proxy, Intruder, Repeater, Sequencer, and Decoder" src="images/image9.png" style="width: 624.00px; height: 46.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-5</span><span class="c3">: The Burp Suite modules</span></p><p class="c1"><span class="c12">The </span><span class="c12 c21">Dashboard</span><span class="c9">&nbsp;gives you an overview of the event log and scans you have run against your targets. The Dashboard is more useful in Burp Suite Pro than in CE because it will also display any issues detected during testing.</span></p><p class="c1"><span class="c12">The </span><span class="c12 c21">Proxy</span><span class="c9">&nbsp;tab is where we will begin capturing requests and responses from your web browser and Postman. The proxy we set up will send any web traffic destined for your browser here. We will typically choose to forward or drop captured traffic until we find the targeted site that we want to interact with. From Proxy we will forward the request or response to other modules for interaction and tampering.</span></p><p class="c1"><span class="c12">In the </span><span class="c12 c21">Target</span><span class="c12">&nbsp;tab,</span><span class="c15">&nbsp;</span><span class="c9">we can see a site&rsquo;s map and manage the targets we intend to attack. You can also use this tab to configure the scope of your testing by selecting the Scope tab and including or excluding URLs. Including URLs within scope will limit the URLs being attacked to only those you have authorization to attack.</span></p><p class="c1"><span class="c12">While using the Target tab, you should be able to locate the </span><span class="c12 c21">Site Map</span><span class="c9">, where you can see all the URLs Burp Suite has detected during your current Burp Suite session. As you perform scans, crawl, and proxy traffic, Burp Suite will start compiling a list of the target web applications and discovered directories. This is another place you can add or remove URLs from scope.</span></p><p class="c1"><span class="c12">The</span><span class="c12 c21">&nbsp;Intruder</span><span class="c9">&nbsp;tab is where we&rsquo;ll perform fuzzing and brute-force attacks against web applications. Once you&rsquo;ve captured an HTTP request, you can forward it to Intruder, where you can select the exact parts of the request that you want to replace with the payload of your choice before sending it to the server.</span></p><p class="c1"><span class="c12">The </span><span class="c12 c21">Repeater</span><span class="c9">&nbsp;is a module that lets you make hands-on adjustments to HTTP requests, send them to the targeted web server, and analyze the content of the HTTP response.</span></p><p class="c1"><span class="c12">The </span><span class="c12 c21">Sequencer</span><span class="c9">&nbsp;tool will automatically send hundreds of requests and then perform an analysis of entropy to determine how random a given string is. We will primarily use this tool to analyze whether cookies, tokens, keys, and other parameters are actually random.</span></p><p class="c1"><span class="c12">The </span><span class="c12 c21">Decoder</span><span class="c9">&nbsp;is a quick way to encode and decode HTML, base64, ASCII hex, hexadecimal, octal, binary, and Gzip.</span></p><p class="c1"><span class="c12">The</span><span class="c12 c21">&nbsp;Comparer </span><span class="c9">can be used to compare different requests. Most often, you&rsquo;ll want to compare two similar requests and find the sections of the request that have been removed, added, and modified.</span></p><p class="c1"><span class="c12">If Burp Suite is too bright for your hacker eyes, navigate to </span><span class="c15">User options</span><span class="c42">&#9654;</span><span class="c15">Display</span><span class="c12">&nbsp;and change </span><span class="c15">Look and Feel</span><span class="c12">&nbsp;to </span><span class="c15">Darcula</span><span class="c9">. Within the User Options tab, you can also find additional connection configurations, TLS settings, and miscellaneous options to learn hotkey shortcuts or configure your own hotkeys. You can then save your preferred settings using Project Options, which allows you to save and load specific configurations you like to use per project.</span></p><p class="c1"><span class="c12 c21">Learn</span><span class="c9">&nbsp;is an awesome set of resources to help you learn how to use Burp Suite. This tab contains video tutorials, the Burp Suite Support Center, a guided tour of Burp&rsquo;s features, and a link to the PortSwigger Web Security Academy. Definitely check these resources out if you are new to Burp!</span></p><p class="c1"><span class="c12">Under the Dashboard you can find the Burp Suite Pro Scanner.</span><span class="c12 c21">&nbsp;Scanner </span><span class="c9">is Burp Suite Pro&rsquo;s web application vulnerability scanner. It lets you automatically crawl web applications and scan for weaknesses.</span></p><p class="c1"><span class="c12">The</span><span class="c15">&nbsp;</span><span class="c12 c21">Extender</span><span class="c9">&nbsp;is where we&rsquo;ll obtain and use Burp Suite extensions. Burp has an app store that allows you to find add-ons to simplify web app testing. Many extensions require Burp Suite Pro, but we will make the most of the free extensions to turn Burp into an API hacking powerhouse.</span></p><h3 class="c31 c8" id="h.7ujei4r3wfb9"><span class="c7">Intercepting Traffic</span></h3><p class="c22 c8"><span class="c9">A Burp Suite session will usually begin with intercepting traffic. If you&rsquo;ve set up FoxyProxy and the Burp Suite certificate correctly, the following process should work smoothly. You can use these instructions to intercept any HTTP traffic with Burp Suite:</span></p><ol class="c44 lst-kix_qqc7kkr7tiek-0 start" start="1"><li class="c16 c8 li-bullet-0"><span class="c12">Start Burp Suite and change the Intercept option to </span><span class="c15">Intercept is</span><span class="c12">&nbsp;</span><span class="c15">on</span><span class="c12">&nbsp;&zwnj;(see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-6&amp;sa=D&amp;source=editors&amp;ust=1681144430784616&amp;usg=AOvVaw19cHEDFgXUbMbwuKNWJgco">Figure 4-6</a></span><span class="c12">).</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 593.33px; height: 160.00px;"><img alt="F04006" src="images/image17.png" style="width: 593.33px; height: 160.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c12"><br></span><span class="c0">Figure 4-6</span><span class="c12 c25 c21">: Intercept is on in Burp Suite.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">In your browser, select the Hackz proxy using FoxyProxy and browse to your target, such as </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://twitter.com/&amp;sa=D&amp;source=editors&amp;ust=1681144430785300&amp;usg=AOvVaw026EmiVj_GiFrzU2Q-1DsZ">https://twitter.com</a></span><span class="c12">&nbsp;(see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-7&amp;sa=D&amp;source=editors&amp;ust=1681144430785834&amp;usg=AOvVaw0QTULIwZ68ajSaKypPHuho">Figure 4-7</a></span><span class="c12">). This web page will not load in the browser because it was never sent to the server; instead, the request should be waiting for you in Burp Suite.</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 450.67px; height: 216.00px;"><img alt="F04007" src="images/image20.png" style="width: 450.67px; height: 216.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c12"><br></span><span class="c0">Figure 4-7</span><span class="c12 c25 c21">: The request to Twitter gets sent to Burp Suite via the Hackz proxy.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">In Burp Suite, you should see something much like </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-8&amp;sa=D&amp;source=editors&amp;ust=1681144430786967&amp;usg=AOvVaw3G4zDowcSFOOc2u-C0lEnG">Figure 4-8</a></span><span class="c12">. This should let you know that you&rsquo;ve successfully intercepted an HTTP request.</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 514.67px; height: 320.00px;"><img alt="F04008" src="images/image11.png" style="width: 514.67px; height: 320.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c12"><br></span><span class="c0">Figure 4-8</span><span class="c12 c25 c21">: An HTTP request to Twitter intercepted by Burp Suite</span></li></ol><p class="c1"><span class="c12">Once you&rsquo;ve captured a request, you can select an action to perform with it, such as forwarding the intercepted request to the various Burp Suite modules. You perform actions by clicking the Action button above the request pane or by right-clicking the request window. You will then have the option to forward the request to one of the other modules, such as Repeater (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-9&amp;sa=D&amp;source=editors&amp;ust=1681144430787717&amp;usg=AOvVaw2sgaOjrVuDAPJMGUX6zqC1">Figure 4-9</a></span><span class="c9">).</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 322.67px;"><img alt="Screenshot of the an HTTP request and corresponding response in a Burp Suite interface with a Send button" src="images/image8.png" style="width: 624.00px; height: 322.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-9</span><span class="c3">: Burp Suite Repeater</span></p><p class="c1"><span class="c9">The Repeater module is the best way to see how a web server responds to a single request. This is useful for seeing what sort of response you can expect to get from an API before initiating an attack. It&rsquo;s also helpful when you need to make minor changes to a request and want to see how the server responds.</span></p><h3 class="c31 c8" id="h.mwn6eaaa05mi"><span class="c7">Altering Requests with Intruder</span></h3><p class="c22 c8"><span class="c9">We&rsquo;ve already mentioned that Intruder is a web application fuzzing and scanning tool. It works by letting you create variables within an intercepted HTTP request, replace those variables with different sets of payloads, and send a series of requests to an API provider.</span></p><p class="c1"><span class="c12">Any part of a captured HTTP request can be transformed into a variable, or </span><span class="c12 c21">attack position</span><span class="c12">, by surrounding it with </span><span class="c15">&sect;</span><span class="c12">&nbsp;symbols. Payloads can be anything from a wordlist to a set of numbers, symbols, and any other type of input that will help you test how an API provider will respond. For example, in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-10&amp;sa=D&amp;source=editors&amp;ust=1681144430789060&amp;usg=AOvVaw3ZTj2TahJ_aN4qtoP7Pv7r">Figure 4-10</a></span><span class="c9">, we&rsquo;ve selected the password as the attack position, as indicated by the &sect; symbols.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 242.67px;"><img alt="Screenshot of the Burp Suite Positions tab with a payload position set around the password field and the Sniper attack type selected" src="images/image21.png" style="width: 624.00px; height: 242.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-10</span><span class="c3">: An Intruder attack against api.twitter.com</span></p><p class="c1"><span class="c12">This means that </span><span class="c2">SuperPass321!</span><span class="c12">&nbsp;will be replaced with values from the list of strings found in Payloads. Navigate to the Payloads tab to see these strings, shown in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-11&amp;sa=D&amp;source=editors&amp;ust=1681144430789963&amp;usg=AOvVaw2LyMYZ3vR8sdf5PD2iwXyL">Figure 4-11</a></span><span class="c9">.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 452.00px;"><img alt="Screenshot of the Burp Suite Payloads tab with a Payload Options box that lists strings such as Password1, Password2, APIhacking4tw, and more" src="images/image16.png" style="width: 624.00px; height: 452.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-11</span><span class="c3">: The Intruder Payloads with a list of passwords</span></p><p class="c1"><span class="c12">Based on the payload list shown here, Intruder will perform one request per payload listed for a total of nine requests. When an attack is started, each of the strings under Payload Options will replace </span><span class="c2">SuperPass123!</span><span class="c9">&nbsp;in turn and generate a request to the API provider.</span></p><p class="c1"><span class="c12">The Intruder attack types determine how the payloads are processed. As you can see in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-12&amp;sa=D&amp;source=editors&amp;ust=1681144430791507&amp;usg=AOvVaw08Uj3qQxXmdzF2LgKsvtxl">Figure 4-12</a></span><span class="c9">, there are four different attack types: sniper, battering ram, pitchfork, and cluster bomb.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 248.00px;"><img alt="Screenshot of the Burp Suite Positions Tab with Sniper selected in the Attack type field" src="images/image18.png" style="width: 624.00px; height: 248.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-12</span><span class="c3">: The Intruder attack types</span></p><p class="c1"><span class="c12 c21">Sniper </span><span class="c9">is the simplest attack type; it replaces the added attack position with a string provided from a single set of payloads. A sniper attack is limited to using a single payload, but it can have several attack positions. A sniper attack will replace one attack position per request, cycling through the different attack positions in each request. If you were attacking three different variables with a single payload, it would look something like this:</span></p><p class="c14"><span class="c4">&sect;Variable1&sect;</span><span class="c4 c21">, </span><span class="c4">&sect;variable2&sect;</span><span class="c4 c21">, </span><span class="c4 c17">&sect;variable3&sect;</span></p><p class="c14"><span class="c4">Request 1: &nbsp; &nbsp;</span><span class="c13">Payload1</span><span class="c4 c17">, variable2, variable3</span></p><p class="c14"><span class="c4">Request 2: &nbsp; &nbsp;Variable1, </span><span class="c13">payload1</span><span class="c4 c17">, variable3</span></p><p class="c26"><span class="c4">Request 3: &nbsp; &nbsp;Variable1, variable2, </span><span class="c13 c17">payload1</span></p><p class="c1"><span class="c12 c21">Battering ram</span><span class="c9">&nbsp;is like the sniper attack in that it also uses one payload, but it will use that payload across all attack positions in a request. If you were testing for SQL injection across several input positions within a request, you could fuzz them all simultaneously with battering ram.</span></p><p class="c1"><span class="c12 c21">Pitchfork</span><span class="c12">&nbsp;is used for testing multiple payload combinations at the same time. For example, if you have a list of leaked usernames and password combinations, you could use two payloads together to test whether any of the credentials were used with the application being tested. However, this attack doesn&rsquo;t try out different combinations of payloads; it will only cycle through the payload sets like this: </span><span class="c12 c21">user1:pass1</span><span class="c12">, </span><span class="c12 c21">user2:pass2</span><span class="c12">, </span><span class="c12 c21">user3:pass3</span><span class="c9">.</span></p><p class="c1"><span class="c12 c21">Cluster bomb </span><span class="c12">will cycle through all possible combinations of the payloads provided. If you provide two usernames and three passwords, the payloads would be used in the following pairs: </span><span class="c12 c21">user1:pass1</span><span class="c12">, </span><span class="c12 c21">user1:pass2</span><span class="c12">, </span><span class="c12 c21">user1:pass3</span><span class="c12">, </span><span class="c12 c21">user2:pass1</span><span class="c12">, </span><span class="c12 c21">user2:pass2</span><span class="c12">, </span><span class="c12 c21">user2:pass3</span><span class="c9">.</span></p><p class="c1"><span class="c9">The attack type to use depends on your situation. If you&rsquo;re fuzzing a single attack position, use sniper. If you&rsquo;re fuzzing several attack positions at once, use battering ram. When you need to test set combinations of payloads, use pitchfork. For password-spraying efforts, use cluster bomb.</span></p><p class="c1"><span class="c9">Intruder should help you find API vulnerabilities such as broken object level authorization, excessive data exposure, broken authentication, broken function level authorization, mass assignment, injection, and improper assets management. Intruder is essentially a smart fuzzing tool that provides a list of results containing the individual requests and responses. You can interact with the request you&rsquo;d like to fuzz and replace the attack position with the input of your choice. These API vulnerabilities are typically discovered by sending the right payload to the right location.</span></p><p class="c1"><span class="c9">For example, if an API were vulnerable to authorization attacks like BOLA, we would be able to replace requested resource IDs with a payload containing a list of possible resource IDs. We could then start the attack with Intruder, which would make all the requests and provide us with a list of results to review. I will cover API fuzzing in Chapter 9 and API authorization attacks in Chapter 10.</span></p><h2 class="c47" id="h.jsm7xxm4u8m3"><span class="c17 c48">EXTENDING THE POWER OF BURP SUITE</span></h2><p class="c22"><span class="c10">One of the major benefits of Burp Suite is that you can install custom extensions. These extensions can help you shape Burp Suite into the ultimate API hacking tool. To install extensions, use the search bar to find the one you&rsquo;re looking for and then click the </span><span class="c52">Install</span><span class="c10 c17 c50">&nbsp;button. Some extensions require additional resources and have more complex installation requirements. Make sure you follow the install instructions for each extension. I recommend adding the following ones.</span></p><h3 class="c47" id="h.8huuwr57ruab"><span class="c17 c40">AUTORIZE</span></h3><p class="c22"><span class="c10 c17 c50">Autorize is an extension that helps automate authorization testing, particularly for BOLA vulnerabilities. You can add the tokens of UserA and UserB accounts and then perform a bunch of actions to create and interact with resources as UserA. Also, Autorize can automatically attempt to interact with UserA&rsquo;s resources with the UserB account. Autorize will highlight any interesting requests that may be vulnerable to BOLA.</span></p><h3 class="c47" id="h.yl0apirvr2bk"><span class="c40 c17">JSON WEB TOKENS</span></h3><p class="c22"><span class="c10 c17 c50">The JSON Web Tokens extension helps you dissect and attack JSON Web Tokens. We will use this extension to perform authorization attacks later in Chapter 8.</span></p><h3 class="c47" id="h.1fhasskktp6r"><span class="c40 c17">INQL SCANNER</span></h3><p class="c22"><span class="c10 c17 c50">InQL is an extension that will aid us in our attacks against GraphQL APIs. We will make the most out of this extension in Chapter 14.</span></p><h3 class="c47" id="h.5oana96cabd3"><span class="c40 c17">IP ROTATE</span></h3><p class="c22"><span class="c10 c17 c50">IP Rotate allows you to alter the IP address you are attacking from to indicate different cloud hosts in different regions. This is extremely useful against API providers that simply block attacks based on IP address.</span></p><h3 class="c47" id="h.7zrlkbk23xg3"><span class="c40 c17">BYPASS WAF</span></h3><p class="c22"><span class="c10">The WAF Bypass extension adds some basic headers to your requests in order to bypass some web application firewalls (WAFs). Some WAFs can be tricked by the inclusion of certain IP headers in the request. WAF Bypass saves you from manually adding headers such as </span><span class="c37">X-Originating-IP</span><span class="c10">, </span><span class="c37">X-Forwarded-For</span><span class="c10">, </span><span class="c37">X-Remote-IP</span><span class="c10">, and </span><span class="c37">X-Remote-Addr</span><span class="c10 c17 c50">. These headers normally include an IP address, and you can specify an address that you believe to be permitted, such as the target&rsquo;s external IP address (127.0.0.1) or an address you suspect to be trusted.</span></p><p class="c22 c64"><span class="c10">In the lab at the end of this chapter, I will walk you through interacting with an API, capturing the traffic with Burp Suite, and using Intruder to discover a list of existing user accounts. To learn more about Burp Suite, visit the PortSwigger WebSecurity Academy at </span><span class="c35 c21"><a class="c18" href="https://www.google.com/url?q=https://portswigger.net/web-security&amp;sa=D&amp;source=editors&amp;ust=1681144430796630&amp;usg=AOvVaw35o4_Z2i2WQYdXsM2wNeVd">https://portswigger.net/web-security</a></span><span class="c10">&nbsp;or consult the Burp Suite documentation at </span><span class="c21 c35"><a class="c18" href="https://www.google.com/url?q=https://portswigger.net/burp/documentation&amp;sa=D&amp;source=editors&amp;ust=1681144430796993&amp;usg=AOvVaw0mNa8D0YPayQHddS0gnD9S">https://portswigger.net/burp/documentation</a></span><span class="c10 c17 c50">.</span></p><h2 class="c31 c8" id="h.nmquok1z4zhq"><span class="c29 c17">Crafting API Requests in Postman, an API Browser</span></h2><p class="c22 c8"><span class="c9">We&rsquo;ll use Postman to help us craft API requests and visualize responses. You can think of Postman as a web browser built for interacting with APIs. Originally designed as a REST API client, it now has all sorts of capabilities for interacting with REST, SOAP, and GraphQL. The application is packed with features for creating HTTP requests, receiving responses, scripting, chaining requests together, creating automated testing, and managing API documentation.</span></p><p class="c1"><span class="c9">We&rsquo;ll be using Postman as our browser of choice for sending API requests to a server, rather than defaulting to Firefox or Chrome. This section covers the Postman features that matter the most and includes instructions for using the Postman request builder, an overview of working with collections, and some basics around building request tests. Later in this chapter, we will configure Postman to work seamlessly with Burp Suite.</span></p><p class="c1"><span class="c9">To set up Postman on Kali, open your terminal and enter the following commands:</span></p><p class="c14"><span class="c4">$ </span><span class="c13">sudo wget https://dl.pstmn.io/download/latest/linux64 -O postman-linux-x64.tar.gz</span></p><p class="c14"><span class="c4">$ </span><span class="c13">sudo tar -xvzf postman-linux-x64.tar.gz -C /opt</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">sudo ln -s /opt/Postman/Postman /usr/bin/postman</span></p><p class="c1"><span class="c12">If everything has gone as planned, you should be able to launch Postman by entering </span><span class="c2">postman</span><span class="c12">&nbsp;in your terminal. Sign up for a free account using an email address, username, and password. Postman uses accounts for collaboration and to synchronize information across devices. Alternatively, you can skip the login screen by clicking the </span><span class="c15">Skip signing in and take me straight to the app</span><span class="c9">&nbsp;button.</span></p><p class="c1"><span class="c12">Next, you&rsquo;ll need to go through the FoxyProxy setup process a second time (refer to the &ldquo;Setting Up FoxyProxy&rdquo; section earlier in this chapter) so that Postman can intercept requests. Return to step 4 and add a new proxy. Add the same host IP address, </span><span class="c15">127.0.0.1</span><span class="c12">, and set the port to </span><span class="c15">5555</span><span class="c12">, the default port for Postman&rsquo;s proxy. Update the name of the proxy under the General tab to </span><span class="c15">Postman</span><span class="c12">&nbsp;and save. Your FoxyProxy tab should now resemble </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-13&amp;sa=D&amp;source=editors&amp;ust=1681144430798972&amp;usg=AOvVaw1aGp9MdFv_bFy2NfuvwtrX">Figure 4-13</a></span><span class="c9">.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 536.00px; height: 194.67px;"><img alt="Screenshot of the FoxyProxy interface with the Hackz, Postman, and Default proxies enabled" src="images/image26.png" style="width: 536.00px; height: 194.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-13</span><span class="c3">: FoxyProxy with the Hackz and Postman proxies set up</span></p><p class="c1"><span class="c12">From the launchpad, open a new tab just like you would in any other browser by clicking the new tab button (+) or using the CTRL-T shortcut. As you can see in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-14&amp;sa=D&amp;source=editors&amp;ust=1681144430799746&amp;usg=AOvVaw0sTIitzBtP9MfLHd-oo4d7">Figure 4-14</a></span><span class="c9">, Postman&rsquo;s interface can be a little overwhelming if you aren&rsquo;t familiar with it.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 348.00px;"><img alt="Screenshot of the Postman interface with many windows and menu items displaying GET requests and JSON data" src="images/image34.png" style="width: 624.00px; height: 348.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-14</span><span class="c3">: The main landing page of Postman with a response from an API collection</span></p><p class="c1"><span class="c9">Let&rsquo;s start by discussing the request builder, which you&rsquo;ll see when you open a new tab.</span></p><h3 class="c31 c8" id="h.ch2s9x4uxisi"><span class="c7">The Request Builder</span></h3><p class="c22 c8"><span class="c12">The request builder, shown in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-15&amp;sa=D&amp;source=editors&amp;ust=1681144430800764&amp;usg=AOvVaw1768JX2y0L_Ua6aGi7nmye">Figure 4-15</a></span><span class="c9">, is where you can craft each request by adding parameters, authorization headers, and so on.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 136.00px;"><img alt="Screenshot of Postman interface with a form field for entering a request URL, a drop-down menu allowing you to select an HTTP method, and a Send button" src="images/image6.png" style="width: 624.00px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-15</span><span class="c3">: The Postman request builder</span></p><p class="c1"><span class="c12">The request builder contains several tabs useful for precisely constructing the parameters, headers, and body of a request. The </span><span class="c12 c21">Params </span><span class="c12">tab is where you can add query and path parameters to a request. Essentially, this allows you to enter in various key/value pairs along with a description of those parameters. A great feature of Postman is that you can leverage the power of variables when creating your requests. If you import an API and it contains a variable like </span><span class="c12 c21">:company</span><span class="c12">&nbsp;in </span><span class="c12 c21">http://example.com/</span><span class="c15 c21">:company</span><span class="c12 c21">/profile</span><span class="c9">, Postman will automatically detect this and allow you to update the variable to a different value, such as the actual company name. We&rsquo;ll discuss collections and environments later in this section.</span></p><p class="c1"><span class="c12">The </span><span class="c12 c21">Authorization </span><span class="c12">tab includes many standard forms of authorization headers for you to include in your request. If you&rsquo;ve saved a token in an environment, you can select the type of token and use the variable&rsquo;s name to include it. By hovering your mouse over a variable name, you can see the associated credentials. Several authorization options are available under the Type field that will help you automatically format the authorization header. Authorization types include several expected options such as no auth, API key, Bearer Token, and Basic Auth. In addition, you could use the authorization that is set for the entire collection by selecting </span><span class="c15">inherit auth from parent</span><span class="c9">.</span></p><p class="c1"><span class="c12">The </span><span class="c12 c21">Headers</span><span class="c9">&nbsp;tab includes the key and value pairs required for certain HTTP requests. Postman has some built-in functionality to automatically create necessary headers and to suggest common headers with preset options.</span></p><p class="c1"><span class="c12">In Postman, values for parameters, headers, and parts of body work can be added by entering information within the Key column and the corresponding Value column (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-16&amp;sa=D&amp;source=editors&amp;ust=1681144430802454&amp;usg=AOvVaw1XEJ46jZZcI9blX_Gf2nA9">Figure 4-16</a></span><span class="c9">). Several headers will automatically be created, but you can add your own headers when necessary.</span></p><p class="c1"><span class="c12">Within the keys and values, you also have the ability to use collection variables and environmental variables. (We&rsquo;ll cover collections later in this section.) For example, we&rsquo;ve represented the value for the password key using the variable name </span><span class="c2">{admin_creds}</span><span class="c9">.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 326.67px;"><img alt="Screenshot of the Postman Headers tab displaying a table with two columns, Key and Value. The Key column includes headers such as User-Agent and Content-Type, and the values include endpoints, such as PostmanRuntime/7.28.3." src="images/image19.png" style="width: 624.00px; height: 326.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-16</span><span class="c3">: Postman key and value headers</span></p><p class="c1"><span class="c9">The request builder can also run pre-request scripts, which can chain together different requests that depend on each other. For example, if request 1 issues a resource value that is needed for the following request, you can script that resource value to automatically be added to request 2.</span></p><p class="c1"><span class="c12">Within Postman&rsquo;s request builder, you can use several panels to craft proper API requests and review responses. Once you&rsquo;ve sent a request, the response will show up in the response panel (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-17&amp;sa=D&amp;source=editors&amp;ust=1681144430803769&amp;usg=AOvVaw1oF_AXammVW8SuMYkInWHj">Figure 4-17</a></span><span class="c9">).</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 372.00px;"><img alt="Screenshot of Postman interface showing Body and Headers tabs and a Status Code bar" src="images/image30.png" style="width: 624.00px; height: 372.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-17</span><span class="c3">: The Postman request and response panels</span></p><p class="c1"><span class="c9">You can set the response panel either to the right or below the request panel. By pressing CTRL-ALT-V, you can switch the request and response panels between single-pane and split-pane views.</span></p><p class="c1"><span class="c12">In </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23table4-2&amp;sa=D&amp;source=editors&amp;ust=1681144430805135&amp;usg=AOvVaw2rX-vLvU_5vhiH2zO2xpUO">Table 4-2</a></span><span class="c9">, I have separated the items into the request panels and the response panels.</span></p><p class="c30"><span class="c8 c53">Table 4-2</span><span class="c3">: Request Builder Panels</span></p><a id="t.ea9a30b994958f8e0729bfe641c218bb26a211cf"></a><a id="t.1"></a><table class="c38"><tr class="c41"><td class="c61" colspan="1" rowspan="1"><p class="c19"><span class="c32 c8">Panel</span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c19"><span class="c32 c8">Purpose</span></p></td></tr><tr class="c41"><td class="c54" colspan="2" rowspan="1"><p class="c19"><span class="c12 c8 c21">Request</span></p></td></tr><tr class="c65"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">HTTP request method</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">The request method is found to the left of the request URL bar (at the top left of </span><span class="c0 c8"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-17&amp;sa=D&amp;source=editors&amp;ust=1681144430809917&amp;usg=AOvVaw0xNUkIwW5Z1S_-CCUIJy8w">Figure 4-17</a></span><span class="c12 c8">&nbsp;where there is a drop-down menu for GET). The options include all the standard requests: GET, POST, PUT, PATCH, DELETE, HEAD, and OPTIONS. It also includes several other request methods such as COPY, LINK, UNLINK, PURGE, LOCK, UNLOCK, PROPFIND, and VIEW.</span></p></td></tr><tr class="c24"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Body</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">In </span><span class="c0 c8"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-17&amp;sa=D&amp;source=editors&amp;ust=1681144430811636&amp;usg=AOvVaw0yMGiX-zV0JyPMvCbLffJh">Figure 4-17</a></span><span class="c12 c8">, this is the third tab in the request pane. This allows for adding body data to the request, which is primarily used for adding or updating data when using PUT, POST, or PATCH.</span></p></td></tr><tr class="c45"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Body options</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Body options are the format of the response. These are found below the Body tab when it is selected. The options currently include none, form-data, x-www-formurlencoded, raw, binary, and GraphQL. These options let you view response data in various forms.</span></p></td></tr><tr class="c24"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Pre-request script</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">JavaScript-based scripts that can be added and executed before a request is sent. This can be used to create variables, help troubleshoot errors, and change request parameters.</span></p></td></tr><tr class="c24"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Test</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">This space allows for writing JavaScript-based tests used to analyze and test the API response. This is used to make sure the API responses are functioning as anticipated.</span></p></td></tr><tr class="c41"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Settings</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Various settings for how Postman will handle requests.</span></p></td></tr><tr class="c41"><td class="c54" colspan="2" rowspan="1"><p class="c19"><span class="c12 c8 c21">Response</span></p></td></tr><tr class="c24"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Response body</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">The body of the HTTP response. If Postman were a typical web browser, this would be the main window to view the requested information.</span></p></td></tr><tr class="c24"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Cookies</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">This shows all the cookies, if any, included with the HTTP response. This tab will include information about the cookie type, cookie value, path, expiration, and cookie security flags.</span></p></td></tr><tr class="c41"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Headers</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">This is where all the HTTP response headers are located.</span></p></td></tr><tr class="c28"><td class="c43" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">Test results</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c19"><span class="c12 c8">If you created any tests for your request, this is where you can view the results of those tests.</span></p></td></tr></table><h3 class="c31 c8" id="h.sck33iom4ji2"><span class="c7">Environments</span></h3><p class="c22 c8"><span class="c12">An </span><span class="c12 c21">environment</span><span class="c12">&nbsp;provides a way to store and use the same variables across APIs. An</span><span class="c12 c21">&nbsp;environmental variable</span><span class="c12">&nbsp;is a value that will replace a variable across an environment. For example, say you&rsquo;re attacking a production API but discover a</span><span class="c12 c21">&nbsp;test</span><span class="c9">&nbsp;version of the production API as well; you&rsquo;ll likely want to use an environment to share values between your requests to the two APIs. After all, there is a chance the production and test APIs share values such as API tokens, URL paths, and resource IDs.</span></p><p class="c1"><span class="c12">To create environmental variables, find </span><span class="c15">Environment</span><span class="c12">&nbsp;at the top right of the request builder (the drop-down menu that says &ldquo;No Environment&rdquo; by default) and then press CTRL-N to bring up the </span><span class="c15">Create New</span><span class="c12">&nbsp;panel and select </span><span class="c15">Environment</span><span class="c12">, as shown in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-18&amp;sa=D&amp;source=editors&amp;ust=1681144430824010&amp;usg=AOvVaw1tlQUB7DkTqix9o9X8JQGg">Figure 4-18</a></span><span class="c9">.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 414.67px;"><img alt="Screenshot of the Postman Create New menu with the Environment option highlighted" src="images/image4.png" style="width: 624.00px; height: 414.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-18</span><span class="c3">: The Create New panel in Postman</span></p><p class="c1"><span class="c12">You can give an environment variable both an initial value and a current value (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-19&amp;sa=D&amp;source=editors&amp;ust=1681144430825531&amp;usg=AOvVaw1ar0tscDzOJPp4vaDWkVaE">Figure 4-19</a></span><span class="c12">). An</span><span class="c12 c21">&nbsp;initial value </span><span class="c9">will be shared if you share your Postman environment with a team, whereas a current value is not shared and is only stored locally. For example, if you have a private key, you can store the private key as the current value. Then you will be able to use the variable in places where you would have to paste the private key.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 476.00px; height: 458.67px;"><img alt="Screenshot of the Postman Manage Environments window with the admin_credz variable and its current value" src="images/image5.png" style="width: 476.00px; height: 458.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-19</span><span class="c27 c8 c21">: The Manage Environments window in Postman showing the variable </span><span class="c11">admin_creds</span><span class="c8 c21 c27">&nbsp;with a current value of </span><span class="c11 c25">This_is_hidd3n</span></p><h3 class="c31 c8" id="h.95bg7fdblv1k"><span class="c7">Collections</span></h3><p class="c22 c8"><span class="c12 c21">Collections </span><span class="c12">are groups of API requests that can be imported into Postman. If an API provider offers a collection, you won&rsquo;t have to physically type in every single request. Instead, you can just import its collection. The best way to understand this functionality is to download a public API collection to your Postman from </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://www.postman.com/explore/collections&amp;sa=D&amp;source=editors&amp;ust=1681144430827752&amp;usg=AOvVaw0pglfbIsqR-ZQr6BgqIlCe">https://www.postman.com/explore/collections</a></span><span class="c9">. For examples throughout this section, I will be referencing the Age of Empires II collection.</span></p><p class="c1"><span class="c9">The Import button lets you import collections, environments, and API specifications. Currently, Postman supports OpenAPI 3.0, RAML 0.8, RAML 1.0, GraphQL, cURL, WADL, Swagger 1.2, Swagger 2.0, Runscope, and DHC. You can make your testing quite a bit easier if you can import your target API specification. Doing this will save you the time of having to craft all the API requests by hand.</span></p><p class="c1"><span class="c12">Collections, environments, and specifications can all be imported as a file, folder, link, or raw test or through linking your GitHub account. For example, you can import the API for the classic PC game </span><span class="c12 c21">Age of Empires II</span><span class="c12">&nbsp;from</span><span class="c12 c21">&nbsp;https://age-of-empires-2-api.herokuapp.com/apispec.json</span><span class="c9">&nbsp;as follows:</span></p><ol class="c44 lst-kix_2q4szhtd9fq-0 start" start="1"><li class="c16 c8 li-bullet-0"><span class="c12">Click the </span><span class="c15">Import</span><span class="c9">&nbsp;button found at the top left of Postman.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Select the </span><span class="c15">Link</span><span class="c12">&nbsp;tab (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-20&amp;sa=D&amp;source=editors&amp;ust=1681144430829836&amp;usg=AOvVaw0DqCDP95HrjPdgPi-ivWJJ">Figure 4-20</a></span><span class="c9">).</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Paste the URL to the API specification and click </span><span class="c15">Continue</span><span class="c9">.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">On the Confirm Your Import screen, click </span><span class="c15">Import</span><span class="c9">.</span></li></ol><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 598.67px; height: 330.67px;"><img alt="Screenshot of the Postman Import Link tab with a form field for entering a URL and a Continue button" src="images/image7.png" style="width: 598.67px; height: 330.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-20</span><span class="c3">: Importing an API specification in Postman using the Link tab in the Import panel</span></p><p class="c1"><span class="c12">Once this is complete, you should have the Age of Empires II collection saved in Postman. Now test it out. Select one of the requests in the collection shown in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-21&amp;sa=D&amp;source=editors&amp;ust=1681144430831448&amp;usg=AOvVaw1E45M3f-822HrUNuFSe4KK">Figure 4-21</a></span><span class="c12">&nbsp;and click </span><span class="c15">Send</span><span class="c9">.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 365.33px;"><img alt="Screenshot of the Postman interface populated with requests from the Age of Empires 2 collection and a list of what each does" src="images/image15.png" style="width: 624.00px; height: 365.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-21</span><span class="c3">: The Collections sidebar with the imported Age of Empires II API GET requests</span></p><p class="c1"><span class="c12">For the request to work, you might have to first check the collection&rsquo;s variables to make sure they&rsquo;re set to the correct values. To see a collection&rsquo;s variables, you will need to navigate to the Edit Collection window by selecting </span><span class="c15">Edit</span><span class="c12">&nbsp;within the </span><span class="c15">View More Actions</span><span class="c12">&nbsp;button (represented by three circles, as shown in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-22&amp;sa=D&amp;source=editors&amp;ust=1681144430832910&amp;usg=AOvVaw3A2uUzAE_oGrljnmmhqU4V">Figure 4-22</a></span><span class="c9">).</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 408.00px; height: 317.33px;"><img alt="Screenshot of a GET request selected in the Postman interface and the Edit option highlighted in a pop-up menu" src="images/image28.png" style="width: 408.00px; height: 317.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-22</span><span class="c3">: Editing a collection within Postman</span></p><p class="c1"><span class="c12">Once you&rsquo;re in the Edit Collection window, select </span><span class="c15">Variables</span><span class="c12">, as shown in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-23&amp;sa=D&amp;source=editors&amp;ust=1681144430833879&amp;usg=AOvVaw3MIn1Nk0Wv21qyBS9RuNU-">Figure 4-23</a></span><span class="c9">.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 570.67px; height: 206.67px;"><img alt="Screenshot of the Variables tab in Postman with the baseURL variable selected" src="images/image10.png" style="width: 570.67px; height: 206.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-23</span><span class="c3">: The Age of Empires II API collection variables</span></p><p class="c1"><span class="c12">For example, the Age of Empires II API collection uses the variable </span><span class="c2">{{baseUrl}}</span><span class="c12">. The problem with the current </span><span class="c2">{{baseUrl}}</span><span class="c12">&nbsp;is that there are no values. We need to update this variable to the full URL of the public API, </span><span class="c12 c21">https://age-of-empires-2-api.herokuapp.com/api/v1</span><span class="c12">. Add the full URL and click </span><span class="c15">Save</span><span class="c12">&nbsp;to update your changes (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-24&amp;sa=D&amp;source=editors&amp;ust=1681144430835173&amp;usg=AOvVaw0Whp_R992Op9N754Ilwy3Q">Figure 4-24</a></span><span class="c9">).</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 145.33px;"><img alt="Screenshot of the Variables tab in Postman with the initial value of the baseURL set to https://age-of-empires-2-api.herokuapp.com/api/v1" src="images/image1.png" style="width: 624.00px; height: 145.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-24</span><span class="c27 c8 c21">: The updated </span><span class="c11">baseURL</span><span class="c3">&nbsp;variable</span></p><p class="c1"><span class="c12">Now that the variable is updated, you can choose one of the requests and click </span><span class="c15">Send</span><span class="c12">. If you are successful, you should receive a response similar to that shown in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-25&amp;sa=D&amp;source=editors&amp;ust=1681144430836107&amp;usg=AOvVaw3f8GdqyuOzJ-auG6j8-l4f">Figure 4-25</a></span><span class="c9">.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 320.00px;"><img alt="Screenshot of the Postman interface populated with an HTTP response" src="images/image2.png" style="width: 624.00px; height: 320.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-25</span><span class="c3">: Successfully using the Age of Empires II API collection in Postman</span></p><p class="c1"><span class="c9">Whenever you import a collection and run into errors, you can use this process to troubleshoot the collection&rsquo;s variables. Also be sure to check that you haven&rsquo;t omitted any authorization requirements.</span></p><h3 class="c31 c8" id="h.lmmt3b30s2b9"><span class="c7">The Collection Runner</span></h3><p class="c22 c8"><span class="c12">The Collection Runner allows you to run all the saved requests in a collection (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-26&amp;sa=D&amp;source=editors&amp;ust=1681144430837387&amp;usg=AOvVaw3nwRDAZjLOwndhEu362i2L">Figure 4-26</a></span><span class="c9">). You can select the collection you want to run, the environment you want to pair it with, how many times you want to run the collection, and a delay in case there are rate-limiting requirements.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 412.00px;"><img alt="Screenshot of the Postman Collection Runner listing a variety of GET and POST requests" src="images/image27.png" style="width: 624.00px; height: 412.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-26</span><span class="c3">: The Postman Collection Runner</span></p><p class="c1"><span class="c9">The requests can also be put into a specific order. Once the Collection Runner has run, you can review the Run Summary to see how each request was handled. For instance, if I open the Collection Runner, select Twitter API v2, and run the Collection Runner, I can see an overview of all API requests in that collection.</span></p><h3 class="c31 c8" id="h.vat25fun9oy1"><span class="c7">Code Snippets</span></h3><p class="c22 c8"><span class="c9">In addition to the panels, you should also be aware of the code snippets feature. At the top-right of the request pane, you&rsquo;ll see a Code button. This button can be used to translate the built request into many different formats, including cURL, Go, HTTP, JavaScript, NodeJS, PHP, and Python. This is a helpful feature when we craft a request with Postman and then need to pivot to another tool. You can craft a complicated API request in Postman, generate a cURL request, and then use that with other command line tools.</span></p><h3 class="c31 c8" id="h.ly2hysmr8utg"><span class="c7">The Tests Panel</span></h3><p class="c22 c8"><span class="c9">The Tests panel allows you to create scripts that will be run against responses to your requests. If you are not a programmer, you will appreciate that Postman has made prebuilt code snippets available on the right side of the Tests panel. You can easily build a test by finding a prebuilt code snippet, clicking it, and adjusting the test to fit your testing needs. I suggest checking out the following snippets:</span></p><ul class="c44 lst-kix_hjxc89gpmguc-0 start"><li class="c16 c8 li-bullet-0"><span class="c2 c17">Status code: Code is 200</span></li><li class="c16 c8 li-bullet-0"><span class="c2 c17">Response time is less than 200ms</span></li><li class="c16 c8 li-bullet-0"><span class="c2 c17">Response body: contains string</span></li></ul><p class="c1"><span class="c12">These JavaScript code snippets are fairly straightforward. For instance, the test for </span><span class="c2">Status code: Code is 200</span><span class="c9">&nbsp;is as follows:</span></p><p class="c14"><span class="c4 c17">pm.test(&quot;Status code is 200&quot;, function () {</span></p><p class="c14"><span class="c4 c17">&nbsp; &nbsp; pm.response.to.have.status(200);</span></p><p class="c26"><span class="c4 c17">});</span></p><p class="c1"><span class="c12">You can see that the name of the test that will be displayed in the test results is &ldquo;Status code is 200.&rdquo; The function is checking to make sure the Postman response has the status 200. We can easily adjust JavaScript to check for any status code by simply updating the </span><span class="c2">(200)</span><span class="c9">&nbsp;to our desired status code and changing the test name to fit. For example, if we wanted to check for the status code 400, we could change the code as follows:</span></p><p class="c14"><span class="c4 c17">pm.test(&quot;Status code is 400&quot;, function () {</span></p><p class="c14"><span class="c4 c17">&nbsp; &nbsp; pm.response.to.have.status(400);</span></p><p class="c26"><span class="c4 c17">});</span></p><p class="c1"><span class="c9">It&rsquo;s as simple as that! You really don&rsquo;t have to be a programmer to understand these JavaScript code snippets.</span></p><p class="c1"><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-27&amp;sa=D&amp;source=editors&amp;ust=1681144430840098&amp;usg=AOvVaw1DFGz6BI8oN1udbawvItEo">Figure 4-27</a></span><span class="c9">&nbsp;shows a series of tests included with the API request to the AOE2 public API. The tests include a check for a 200 status code, less than 200 ms latency, and &ldquo;Persians&rdquo; within the response string.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 201.33px;"><img alt="Screenshot of the Postman Tests panel in which a test is written and a list of requests are labeled &ldquo;Pass&rdquo;" src="images/image13.png" style="width: 624.00px; height: 201.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-27</span><span class="c3">: AOE2 public API tests</span></p><p class="c1"><span class="c12">After your tests are configured, you can check the Test Results tab of a response to see if the tests succeeded or failed. A good practice with creating tests is to make sure the tests fail. Tests are only effective if they pass and fail when they are supposed to. Therefore, send a request that would create conditions you would expect to pass or fail the test to ensure it is functioning properly. For more information about creating test scripts, check out the Postman documentation (</span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.postman.com/docs/writing-scripts/test-scripts&amp;sa=D&amp;source=editors&amp;ust=1681144430840930&amp;usg=AOvVaw1pySd7E0DrR_xGyPlXDrqf">https://learning.postman.com/docs/writing-scripts/test-scripts</a></span><span class="c9">).</span></p><p class="c1"><span class="c12">You now have many other options to explore in Postman. Like Burp Suite, Postman has a Learning Center (</span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.postman.com/&amp;sa=D&amp;source=editors&amp;ust=1681144430841355&amp;usg=AOvVaw3sT-kS1rD6kJ1-cGV-KKrX">https://learning.postman.com</a></span><span class="c12">) for online resources for those who want to develop a deeper understanding of the software. Alternatively, if you would like to review the Postman documentation, you can find it at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.postman.com/docs/getting-started/introduction&amp;sa=D&amp;source=editors&amp;ust=1681144430841699&amp;usg=AOvVaw0Y4WlyilxgeeuWHrXET5PL">https://learning.postman.com/docs/getting-started/introduction</a></span><span class="c9">.</span></p><h2 class="c31 c8" id="h.idkdxmw4f83x"><span class="c29 c17">Configuring Postman to Work with Burp Suite</span></h2><p class="c22 c8"><span class="c9">Postman is useful for interacting with APIs, and Burp Suite is a powerhouse for web application testing. If you combine these applications, you can configure and test an API in Postman and then proxy the traffic over to Burp Suite to brute-force directories, tamper with parameters, and fuzz all the things.</span></p><p class="c1"><span class="c12">As when you set up FoxyProxy, you&rsquo;ll need to configure the Postman proxy to send traffic over to Burp Suite using the following steps (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-28&amp;sa=D&amp;source=editors&amp;ust=1681144430842762&amp;usg=AOvVaw3M4YqrqqxyTx679JExQAYe">Figure 4-28</a></span><span class="c9">):</span></p><ol class="c44 lst-kix_r6xkphimrv5l-0 start" start="1"><li class="c16 c8 li-bullet-0"><span class="c12">Open Postman settings by pressing CTRL-, (comma) or navigating to </span><span class="c15">File</span><span class="c42">&#9654;</span><span class="c15">Settings</span><span class="c9">.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Click the </span><span class="c15">Proxy</span><span class="c9">&nbsp;tab.</span></li><li class="c16 c8 li-bullet-0"><span class="c9">Click the checkbox for adding a custom proxy configuration.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Make sure to set the proxy server to </span><span class="c15">127.0.0.1</span><span class="c9">.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Set the proxy server port to </span><span class="c15">8080</span><span class="c9">.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Select the </span><span class="c15">General</span><span class="c12">&nbsp;tab and turn SSL certificate verification </span><span class="c15">Off</span><span class="c9">.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">In Burp Suite, select the </span><span class="c15">Proxy</span><span class="c9">&nbsp;tab.</span></li><li class="c16 c8 li-bullet-0"><span class="c12">Click the button to turn Intercept</span><span class="c15">&nbsp;On</span><span class="c9">.</span></li></ol><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 570.67px; height: 514.67px;"><img alt="Screenshot of the Postman Settings Proxy tab with the following checkboxes selected: use the system proxy, add a custom proxy configuration, HTTP, and HTTPS" src="images/image29.png" style="width: 570.67px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-28</span><span class="c3">: Postman&rsquo;s proxy settings configured to interact with Burp Suite</span></p><p class="c1"><span class="c9">Try sending a request using Postman; if it is intercepted by Burp Suite, you&rsquo;ve properly configured everything. Now you can leave the proxy on and toggle Burp Suite&rsquo;s &ldquo;turn Intercept on&rdquo; function when you want to capture requests and responses.</span></p><h2 class="c31 c8" id="h.yzf79dmy4txf"><span class="c29 c17">Supplemental Tools</span></h2><p class="c22 c8"><span class="c9">This section is meant to provide additional options and to aid those who are limited by the features available in Burp Suite CE. The following tools are excellent at what they do, open source, and free. In particular, the API scanning tools covered here serve several purposes when you&rsquo;re actively testing your target. Tools such as Nikto and OWASP ZAP can help you actively discover API endpoints, security misconfigurations, and interesting paths, and they provide some surface-level testing of an API. In other words, they are useful when you start actively engaging with a target, whereas tools such as Wfuzz and Arjun will be more useful once you&rsquo;ve discovered an API and want to narrow the focus of your testing. Use these tools to actively test APIs to discover unique paths, parameters, files, and functionality. Each of these tools has its own unique focus and purpose that will supplement functionality lacking in the free Burp Suite Community Edition.</span></p><h3 class="c31 c8" id="h.hq76r59le0kq"><span class="c7">Performing Reconnaissance with OWASP Amass</span></h3><p class="c22 c8"><span class="c9">OWASP Amass is an open-source information-gathering tool that can be used for passive and active reconnaissance. This tool was created as a part of the OWASP Amass project, led by Jeff Foley. We will be using Amass to discover the attack surface of our target organizations. With as little as a target&rsquo;s domain name, you can use Amass to scan through many internet sources for your target&rsquo;s associated domains and subdomains to get a list of potential target URLs and APIs.</span></p><p class="c1"><span class="c9">If OWASP Amass is not installed, use the following command:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">sudo apt-get install amass</span></p><p class="c1"><span class="c12">Amass is pretty effective without much setup. However, you can make it into an information collection powerhouse by setting it up with API keys from various sources. I recommend at least setting up accounts with GitHub, Twitter, and Censys. Once you&rsquo;ve set up these accounts, you can generate API keys for these services and plug them into Amass by adding them to Amass&rsquo;s configuration file, </span><span class="c12 c21">config.ini</span><span class="c12">. The Amass GitHub repository has a template </span><span class="c12 c21">config.ini</span><span class="c12">&nbsp;file that you can use at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://github.com/OWASP/Amass/blob/master/examples/config.ini&amp;sa=D&amp;source=editors&amp;ust=1681144430847494&amp;usg=AOvVaw3f63xzzqFprEFWGrV2Z1zq">https://github.com/OWASP/Amass/blob/master/examples/config.ini</a></span><span class="c9">.</span></p><p class="c1"><span class="c12">On Kali, Amass will attempt to automatically find the </span><span class="c12 c21">config.ini</span><span class="c9">&nbsp;file at the following location:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">HOME/.config/amass/config.ini</span></p><p class="c1"><span class="c12">To download the content of the sample </span><span class="c12 c21">config.ini</span><span class="c9">&nbsp;file and save it to the default Amass config file location, run the following command from the terminal:</span></p><p class="c14"><span class="c4">$ </span><span class="c13">mkdir $HOME/.config/amass</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">curl https://raw.githubusercontent.com/OWASP/Amass/master/examples/config.ini &gt;$HOME/.config/amass/config.ini</span></p><p class="c1"><span class="c9">Once you have that file downloaded, you can edit it and add the API keys you would like to include. It should look something like this:</span></p><p class="c14"><span class="c4 c17"># https://umbrella.cisco.com (Paid-Enterprise)</span></p><p class="c14"><span class="c4 c17"># The apikey must be an API access token created through the Investigate management UI</span></p><p class="c14"><span class="c4 c17">#[data_sources.Umbrella]</span></p><p class="c14"><span class="c4 c17">#apikey =</span></p><p class="c14 c46"><span class="c4 c17"></span></p><p class="c14"><span class="c4 c17">#https://urlscan.io (Free)</span></p><p class="c14"><span class="c4 c17">#URLScan can be used without an API key</span></p><p class="c14"><span class="c4 c17">#apikey =</span></p><p class="c14 c46"><span class="c4 c17"></span></p><p class="c14"><span class="c4 c17"># https://virustotal.com (Free)</span></p><p class="c14"><span class="c4 c17">#[data_sources.URLScan]</span></p><p class="c26"><span class="c4 c17">#apikey =</span></p><p class="c1"><span class="c12">As you can see, you can remove the comment (</span><span class="c2">#</span><span class="c12">) and simply paste in the API key for whichever service you would like to use. The </span><span class="c12 c21">config.ini</span><span class="c12">&nbsp;file even indicates which keys are free. You can find a list of the sources with APIs you can use to enhance Amass at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://github.com/OWASP/Amass&amp;sa=D&amp;source=editors&amp;ust=1681144430849805&amp;usg=AOvVaw0yMG2p_n6lNAPnx62fcKmn">https://github.com/OWASP/Amass</a></span><span class="c9">. Although it will be a little time-consuming, I recommend taking advantage of at least all the free sources listed under APIs.</span></p><h3 class="c31 c8" id="h.hs6xrhyvuim"><span class="c7">Discovering API Endpoints with Kiterunner</span></h3><p class="c22 c8"><span class="c12">Kiterunner (</span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://github.com/assetnote/kiterunner&amp;sa=D&amp;source=editors&amp;ust=1681144430850524&amp;usg=AOvVaw0aq4a3RzWmPhzi6gM3pYhJ">https://github.com/assetnote/kiterunner</a></span><span class="c9">) is a content discovery tool designed specifically for finding API resources. Kiterunner is built with Go, and while it can scan at a speed of 30,000 requests per second, it takes into account the fact that load balancers and web application firewalls will likely enforce rate limiting.</span></p><p class="c1"><span class="c9">When it comes to APIs, Kiterunner&rsquo;s search techniques outperform other content discovery tools such as dirbuster, dirb, Gobuster, and dirsearch because this tool was built with API awareness. Its wordlists, request methods, parameters, headers, and path structures are all focused on finding API endpoints and resources. Of note, the tool includes data from 67,500 Swagger files. Kiterunner has also been designed to detect the signature of different APIs, including Django, Express, FastAPI, Flask, Nginx, Spring, and Tomcat (just to name a few).</span></p><p class="c1"><span class="c9">One of the tool&rsquo;s most useful capabilities, which we&rsquo;ll leverage in Chapter 6, is the request replay feature. If Kiterunner detects endpoints when scanning, it will display this result on the command line. You can then dive deeper into the result by exploring the exact request that triggered the result.</span></p><p class="c1"><span class="c9">To install Kiterunner, run the following commands:</span></p><p class="c14"><span class="c4">$ </span><span class="c13">git clone https://github.com/assetnote/kiterunner.git</span></p><p class="c14"><span class="c4">$ </span><span class="c13">cd kiterunner</span></p><p class="c14"><span class="c4">$ </span><span class="c13">make build</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">sudo ln -s $(pwd)/dist/kr /usr/local/bin/kr</span></p><p class="c1"><span class="c9">You should then be able to use Kiterunner from the command line by entering the following:</span></p><p class="c14"><span class="c4">$ </span><span class="c13">kr</span></p><p class="c14"><span class="c4 c17">kite is a context based webscanner that uses common api paths for content discovery of an applications api paths.</span></p><p class="c14 c46"><span class="c4 c17"></span></p><p class="c14"><span class="c4 c17">Usage:</span></p><p class="c14"><span class="c4 c17">&nbsp; kite [command]</span></p><p class="c14 c46"><span class="c4 c17"></span></p><p class="c14"><span class="c4 c17">Available Commands:</span></p><p class="c14"><span class="c4 c17">&nbsp; brute &nbsp; &nbsp; &nbsp; brute one or multiple hosts with a provided wordlist</span></p><p class="c14"><span class="c4 c17">&nbsp; help &nbsp; &nbsp; &nbsp; &nbsp;help about any command</span></p><p class="c14"><span class="c4 c17">&nbsp; kb &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;manipulate the kitebuilder schema</span></p><p class="c14"><span class="c4 c17">&nbsp; scan &nbsp; &nbsp; &nbsp; &nbsp;scan one or multiple hosts with a provided wordlist</span></p><p class="c14"><span class="c4 c17">&nbsp; version &nbsp; &nbsp; version of the binary you&#39;re running</span></p><p class="c14"><span class="c4 c17">&nbsp; wordlist &nbsp; &nbsp;look at your cached wordlists and remote wordlists</span></p><p class="c14 c46"><span class="c4 c17"></span></p><p class="c14"><span class="c4 c17">Flags:</span></p><p class="c14"><span class="c4 c17">&nbsp; &nbsp; &nbsp; --config string &nbsp; &nbsp;config file (default is $HOME/.kiterunner.yaml)</span></p><p class="c14"><span class="c4 c17">&nbsp; -h, --help &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; help for kite</span></p><p class="c14"><span class="c4 c17">&nbsp; -o, --output string &nbsp; &nbsp;output format. can be json,text,pretty (default &quot;pretty&quot;)</span></p><p class="c14"><span class="c4 c17">&nbsp; -q, --quiet &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;quiet mode. will mute unnecessary pretty text</span></p><p class="c14"><span class="c4 c17">&nbsp; -v, --verbose string &nbsp; level of logging verbosity. can be error,info,debug,trace (default &quot;info&quot;)</span></p><p class="c14 c46"><span class="c4 c17"></span></p><p class="c26"><span class="c4 c17">Use &quot;kite [command] --help&quot; for more information about a command.</span></p><p class="c1"><span class="c12">You can supply Kiterunner with various wordlists, which it then uses as payloads for a series of requests. These requests will help you discover interesting API endpoints. Kiterunner allows you to use Swagger JSON files, Assetnote&rsquo;s</span><span class="c12 c21">&nbsp;.kites </span><span class="c12">files, and </span><span class="c12 c21">.txt</span><span class="c12">&nbsp;wordlists. Currently, Assetnote releases its wordlists, which contain search terms collected from its internet-wide scans, on a monthly basis. All of the wordlists are hosted at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://wordlists.assetnote.io/&amp;sa=D&amp;source=editors&amp;ust=1681144430854211&amp;usg=AOvVaw3GVdxjwx_Ug87gDiNkZMZT">https://wordlists.assetnote.io</a></span><span class="c9">. Create an API wordlists directory as follows:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">mkdir -p ~/api/wordlists</span></p><p class="c1"><span class="c12">You can then select your desired wordlists and download them to the </span><span class="c12 c21">/api/wordlists </span><span class="c9">directory:</span></p><p class="c14"><span class="c4">$ </span><span class="c13">curl https://wordlists-cdn.assetnote.io/data/automated/httparchive_apiroutes_2021_06_28.txt &gt; latest_api_wordlist.txt</span></p><p class="c14"><span class="c4 c17">&nbsp; % Total &nbsp; &nbsp;% Received % Xferd &nbsp;Average Speed &nbsp; Time &nbsp; &nbsp;Time &nbsp; &nbsp; Time &nbsp;Current</span></p><p class="c14"><span class="c4 c17">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Dload &nbsp;Upload &nbsp; Total &nbsp; Spent &nbsp; &nbsp;Left &nbsp;Speed</span></p><p class="c26"><span class="c4 c17">100 6651k &nbsp;100 6651k &nbsp; &nbsp;0 &nbsp; &nbsp; 0 &nbsp;16.1M &nbsp; &nbsp; &nbsp;0 --:--:-- --:--:-- --:--:-- 16.1M</span></p><p class="c1"><span class="c12">You can replace </span><span class="c12 c21">httparchive_apiroutes_2021_06_028.txt</span><span class="c9">&nbsp;with whichever wordlists suit you best. Alternatively, download all the Assetnote wordlists at once:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">wget -r --no-parent -R &quot;index.html*&quot; https://wordlists-cdn.assetnote.io/data/ -nH</span></p><p class="c1"><span class="c9">Be warned that downloading all of the Assetnote wordlists takes up about 2.2GB of space, but storing them is definitely worth it.</span></p><h3 class="c31 c8" id="h.olqrq8ww466q"><span class="c7">Scanning for Vulnerabilities with Nikto</span></h3><p class="c22 c8"><span class="c9">Nikto is a command line web application vulnerability scanner that is quite effective at information gathering. I use Nikto immediately after discovering the existence of a web application, as it can point me toward the application&rsquo;s interesting aspects. Nikto will provide you with information about the target web server, security misconfigurations, and other web application vulnerabilities. Since Nikto is included in Kali, it should not require any special setup.</span></p><p class="c1"><span class="c9">To scan a domain, use the following command:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">nikto -h https://example.com</span></p><p class="c1"><span class="c12">To see the additional Nikto options, enter </span><span class="c2">nikto -Help</span><span class="c12">&nbsp;on the command line. A few options you may find useful include </span><span class="c2">-output </span><span class="c39">filename</span><span class="c12">&nbsp;for saving the Nikto results to a specified file and </span><span class="c2">-maxtime</span><span class="c12">&nbsp;</span><span class="c39">#ofseconds</span><span class="c9">&nbsp;to limit how long a Nikto scan will take.</span></p><p class="c1"><span class="c12">The results from a Nikto scan will include an app&rsquo;s allowed HTTP methods, interesting header information, potential API endpoints, and other directories that could be worth checking out. For additional information about Nikto, review the documentation found at </span><span class="c12 c21">https://cirt.net/nikto2-docs</span><span class="c9">.</span></p><h3 class="c31 c8" id="h.ahgl34gcwhr2"><span class="c7">Scanning for Vulnerabilities with OWASP ZAP</span></h3><p class="c22 c8"><span class="c12">OWASP developed ZAP, an open-source web application scanner, and it&rsquo;s another essential web application security testing tool. OWASP ZAP should be included in Kali, but if it isn&rsquo;t, you can clone it from GitHub at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://github.com/zaproxy/zaproxy&amp;sa=D&amp;source=editors&amp;ust=1681144430857064&amp;usg=AOvVaw1vzQHpqrnpaCEBPDko1mBa">https://github.com/zaproxy/zaproxy</a></span><span class="c9">.</span></p><p class="c1"><span class="c12">ZAP has two components: automated scan and manual explore. ZAP&rsquo;s </span><span class="c12 c21">automated scan</span><span class="c9">&nbsp;performs web crawling, detects vulnerabilities, and tests web application responses by altering request parameters. Automated scan is great for detecting the surface directories of a web application, which includes discovering API endpoints. To run it, enter the target URL into the ZAP interface and click the button to start the attack. Once the scan has run its course, you&rsquo;ll receive a list of alerts that are categorized by the severity of the finding. The issue with ZAP&rsquo;s automated scan is that it can be riddled with false positives, so it is important to examine and validate the alerts. The testing is also limited to the surface of a web application. Unless there are unintentionally exposed directories, ZAP will not be able to infiltrate beyond authentication requirements. This is where the ZAP manual explore option comes in handy.</span></p><p class="c1"><span class="c12">ZAP </span><span class="c12 c21">manual explore</span><span class="c9">&nbsp;is especially useful for exploring beyond the surface of the web application. Also known as the ZAP Heads Up Display (ZAP HUD), manual explore proxies your web browser&rsquo;s traffic through ZAP while you browse. To launch it, enter the URL to explore and open a browser of your choice. When the browser launches, it will appear that you are browsing the site as you normally would; however, ZAP alerts and functions will overlay the web page. This allows you to have much more control over when to start crawling, when to run active scans, and when to turn on &ldquo;attack mode.&rdquo; For example, you can go through the user account creation process and authentication/authorization process with the ZAP scanner running to automatically detect flaws in these processes. Any vulnerabilities you detect will pop up like gaming achievements. We will be using ZAP HUD to discover APIs.</span></p><h3 class="c31 c8" id="h.n3291r19bcnp"><span class="c7">Fuzzing with Wfuzz</span></h3><p class="c22 c8"><span class="c12">Wfuzz is an open-source Python-based web application fuzzing framework. Wfuzz should come with the latest version of Kali, but you can install it from GitHub at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://github.com/xmendez/wfuzz&amp;sa=D&amp;source=editors&amp;ust=1681144430858316&amp;usg=AOvVaw14t2e-JpvhJxBAMmEb7tio">https://github.com/xmendez/wfuzz</a></span><span class="c9">.</span></p><p class="c1"><span class="c12">You can use Wfuzz to inject a payload within an HTTP request by replacing occurrences of the word </span><span class="c12 c21">FUZZ</span><span class="c9">&nbsp;with words from a wordlist; Wfuzz will then rapidly perform many requests (around 900 requests per minute) with the specified payload. Since so much of the success of fuzzing depends on the use of a good wordlist, we&rsquo;ll spend a decent amount of time discussing wordlists in Chapter 6.</span></p><p class="c1"><span class="c9">Here&rsquo;s the basic request format of Wfuzz:</span></p><p class="c26"><span class="c4">$ </span><span class="c13">wfuzz </span><span class="c4">options </span><span class="c13">-z </span><span class="c4 c17">payload,params url</span></p><p class="c1"><span class="c9">To run Wfuzz, use the following command:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">wfuzz -z file,/usr/share/wordlists/list.txt http://targetname.com/FUZZ</span></p><p class="c1"><span class="c12">This command replaces </span><span class="c12 c21">FUZZ</span><span class="c12">&nbsp;in the URL </span><span class="c12 c21">http://targetname.com/FUZZ</span><span class="c12">&nbsp;with words from </span><span class="c12 c21">/usr/share/wordlists/list.txt</span><span class="c12">. The </span><span class="c2">-z</span><span class="c12">&nbsp;option specifies a type of payload followed by the actual payload. In this example, we specified that the payload is a file and then provided the wordlist&rsquo;s file path. We could also use </span><span class="c2">-z</span><span class="c12">&nbsp;with </span><span class="c2">list</span><span class="c12">&nbsp;or </span><span class="c2">range</span><span class="c12">. Using the </span><span class="c2">list</span><span class="c12">&nbsp;option means that we will specify the payload in the request, whereas </span><span class="c2">range</span><span class="c12">&nbsp;refers to a range of numbers. For example, you can use the </span><span class="c2">list</span><span class="c9">&nbsp;option to test an endpoint for a list of HTTP verbs:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">wfuzz -X POST -z list,admin-dashboard-docs-api-test http://targetname.com/FUZZ</span></p><p class="c1"><span class="c12">The </span><span class="c2">-X</span><span class="c12">&nbsp;option specifies the HTTP request method. In the previous example, Wfuzz will perform a POST request with the wordlist used as the path in place of the </span><span class="c12 c21">FUZZ</span><span class="c9">&nbsp;placeholder.</span></p><p class="c1"><span class="c12">You can use the </span><span class="c2">range</span><span class="c9">&nbsp;option to easily scan a series of numbers:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">wfuzz -z range,500-1000 http://targetname.com/account?user_id=FUZZ</span></p><p class="c1"><span class="c9">This will automatically fuzz all numbers from 500 to 1000. This will come in handy when we test for BOLA vulnerabilities.</span></p><p class="c1"><span class="c12">To specify multiple attack positions, you can list off several </span><span class="c2">-z</span><span class="c12">&nbsp;flags and then number the corresponding </span><span class="c2">FUZZ</span><span class="c12">&nbsp;placeholders, such as </span><span class="c2">FUZZ</span><span class="c12">, </span><span class="c2">FUZ1</span><span class="c12">, </span><span class="c2">FUZ2</span><span class="c12">, </span><span class="c2">FUZ3</span><span class="c9">, and so on, like so:</span></p><p class="c26"><span class="c4">$ wfuzz -z list,A-B-C -z range,1-3 http://targetname.com/</span><span class="c13">FUZZ</span><span class="c4">/user_id=</span><span class="c13 c17">FUZZ2</span></p><p class="c1"><span class="c9">Running Wfuzz against a target can generate a ton of results, which can make it difficult to find anything interesting. Therefore, you should familiarize yourself with the Wfuzz filter options. The following filters display only certain results:</span></p><ol class="c44 lst-kix_2midx1c9mfg-0 start" start="1"><li class="c16 c8 li-bullet-0"><span class="c2">--sc</span><span class="c9">&nbsp;Only shows responses with specific HTTP response codes</span></li><li class="c16 c8 li-bullet-0"><span class="c2">--sl</span><span class="c9">&nbsp;Only shows responses with a certain number of lines</span></li><li class="c16 c8 li-bullet-0"><span class="c2">--sw</span><span class="c9">&nbsp;Only shows responses with a certain number of words</span></li><li class="c16 c8 li-bullet-0"><span class="c2">--sh</span><span class="c9">&nbsp;Only shows responses with a certain number of characters</span></li></ol><p class="c1"><span class="c9">In the following example, Wfuzz will scan the target and only show results that include a status code of 200:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">wfuzz -z file,/usr/share/wordlists/list.txt &ndash;sc 200 http://targetname.com/FUZZ</span></p><p class="c1"><span class="c9">The following filters hide certain results:</span></p><ol class="c44 lst-kix_3uk69x9d6vpu-0 start" start="1"><li class="c16 c8 li-bullet-0"><span class="c2">--hc</span><span class="c9">&nbsp;Hides responses with specific HTTP status codes</span></li><li class="c16 c8 li-bullet-0"><span class="c2">--hl</span><span class="c9">&nbsp;Hides responses with a specified number of lines</span></li><li class="c16 c8 li-bullet-0"><span class="c2">--hw</span><span class="c9">&nbsp;Hides responses with a specified number of words</span></li><li class="c16 c8 li-bullet-0"><span class="c2">--hh</span><span class="c9">&nbsp;Hides responses with specified number of characters</span></li></ol><p class="c1"><span class="c9">In the following example, Wfuzz will scan the target and hide all results that have a status code of 404 and hide results that have 950 characters:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">wfuzz -z file,/usr/share/wordlists/list.txt &ndash;sc 404 &ndash;sh 950 http://targetname.com/FUZZ</span></p><p class="c1"><span class="c12">Wfuzz is a powerful multipurpose fuzzing tool you can use to thoroughly test endpoints and find their weaknesses. For more information about Wfuzz, check out the documentation at </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://wfuzz.readthedocs.io/en/latest&amp;sa=D&amp;source=editors&amp;ust=1681144430864983&amp;usg=AOvVaw1NFPzmQazCGnZodbIGf7FB">https://wfuzz.readthedocs.io/en/latest</a></span><span class="c9">.</span></p><h3 class="c31 c8" id="h.1bob4gndtf2j"><span class="c7">Discovering HTTP Parameters with Arjun</span></h3><p class="c22 c8"><span class="c9">Arjun is another open source Python-based API fuzzer developed specifically to discover web application parameters. We will use Arjun to discover basic API functionality, find hidden parameters, and test API endpoints. You can use it as a great first scan for an API endpoint during black box testing or as an easy way to see how well an API&rsquo;s documented parameters match up with the scan&rsquo;s findings.</span></p><p class="c1"><span class="c9">Arjun comes configured with a wordlist containing nearly 26,000 parameters, and unlike Wfuzz, it does some of the filtering for you using its preconfigured anomaly detection. To set up Arjun, first clone it from GitHub (you&rsquo;ll need a GitHub account to do this):</span></p><p class="c14"><span class="c4">$ </span><span class="c13">cd /opt/</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">sudo git clone https://github.com/s0md3v/Arjun.git</span></p><p class="c1"><span class="c9">Arjun works by first performing a standard request to the target API endpoint. If the target responds with HTML forms, Arjun will add the form names to the parameter list during its scan. Arjun then sends a request with parameters it expects to return responses for nonexistent resources. This is done to note the behavior of a failed parameter request. Arjun then kicks off 25 requests containing the payload of nearly 26,000 parameters, compares the API endpoint&rsquo;s responses, and begins additional scans of the anomalies.</span></p><p class="c1"><span class="c9">To run Arjun, use the following command:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">python3 /opt/Arjun/arjun.py -u http://target_address.com</span></p><p class="c1"><span class="c12">If you would like to have the output results in a certain format, use the </span><span class="c2">-o</span><span class="c9">&nbsp;option with your desired file type:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">python3 /opt/Arjun/arjun.py -u http://target_address.com -o arjun_results.json</span></p><p class="c1"><span class="c12">If you come across a target with rate limiting, Arjun may trigger the rate limit and cause a security control to block you. Arjun even has built-in suggestions for when a target does not cooperate. Arjun may prompt you with an error message such as &ldquo;Target is unable to process requests, try --stable switch.&rdquo; If this happens, simply add the </span><span class="c2">--stable</span><span class="c9">&nbsp;flag. Here&rsquo;s an example:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">python3 /opt/Arjun/arjun.py -u http://target_address.com -o arjun_results.json --stable</span></p><p class="c1"><span class="c12">Finally, Arjun can scan multiple targets at once. Use the </span><span class="c2">-i</span><span class="c9">&nbsp;flag to specify a list of target URLs. If you&rsquo;ve been proxying traffic with Burp Suite, you can select all URLs within the sitemap, use the Copy Selected URLs option, and paste that list to a text file. Then run Arjun against all Burp Suite targets simultaneously, like this:</span></p><p class="c26"><span class="c4">$ </span><span class="c13 c17">python3 /opt/Arjun/arjun.py -i burp_targets.txt</span></p><h2 class="c31 c8" id="h.f4l0rfrqmb77"><span class="c29 c17">Summary</span></h2><p class="c8 c22"><span class="c9">In this chapter, you set up the various tools we&rsquo;ll use to hack APIs throughout this book. Additionally, we spent some time digging into feature-rich applications such as DevTools, Burp Suite, and Postman. Being comfortable with the API hacking toolbox will help you know when to use which tool and when to pivot.</span></p><h2 class="c31 c8" id="h.d91jj6sslbvq"><span class="c17 c51">Lab #1: Enumerating the User Accounts in a REST API</span></h2><p class="c22 c8"><span class="c9">Welcome to your first lab.</span></p><p class="c1"><span class="c12">In this lab, our goal is simple: find the total number of user accounts in </span><span class="c12 c21">reqres.in</span><span class="c9">, a REST API designed for testing, using the tools discussed in this chapter. You could easily figure this out by guessing the total number of accounts and then checking for that number, but we will discover the answer much more quickly using the power of Postman and Burp Suite. When testing actual targets, you could use this process to discover whether there was a basic BOLA vulnerability present.</span></p><p class="c1"><span class="c12">First, navigate to </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=http://reqres.in/&amp;sa=D&amp;source=editors&amp;ust=1681144430868051&amp;usg=AOvVaw1m2v-wm68AYWC_y-d2Sdub">http://reqres.in</a></span><span class="c12">&nbsp;to see if API documentation is available. On the landing page, we find the equivalent of API documentation and can see a sample request that consists of making a request to the </span><span class="c12 c21">/api/users/2</span><span class="c12">&nbsp;endpoint (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-29&amp;sa=D&amp;source=editors&amp;ust=1681144430868517&amp;usg=AOvVaw075fhUY_l7nV6iiRt2PnRz">Figure 4-29</a></span><span class="c9">).</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 612.00px; height: 516.00px;"><img alt="Screenshot of the web page at https://reqres.in featuring a list of GET requests and their purposes, as well as the JSON data returned from one of the requests" src="images/image22.png" style="width: 612.00px; height: 516.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-29</span><span class="c27 c8 c21">: API documentation found at </span><span class="c8 c21 c23"><a class="c18" href="https://www.google.com/url?q=https://reqres.in/&amp;sa=D&amp;source=editors&amp;ust=1681144430869100&amp;usg=AOvVaw08Y0QVP94q3a8uJxkhF8I_">https://reqres.in</a></span><span class="c27 c8 c21">&nbsp;with instructions for requesting </span><span class="c11 c25">user id:2</span></p><p class="c1"><span class="c12">You&rsquo;ll notice a List Users endpoint; we&rsquo;ll ignore this for the purposes of the lab, as it won&rsquo;t help you learn the intended concepts. Instead, we&rsquo;ll be using the Single User endpoint because it will help you build the skills needed to discover vulnerabilities like BOLA and BFLA. The suggested API request for Single User is meant to provide the consumer with the requested user&rsquo;s account information by sending a GET request to </span><span class="c12 c21">/api/users/</span><span class="c12">. We can easily assume that user accounts are organized in the </span><span class="c12 c21">user</span><span class="c12">&nbsp;directory by their </span><span class="c2">id</span><span class="c9">&nbsp;number.</span></p><p class="c1"><span class="c12">Let&rsquo;s test this theory by attempting to send a request to a user with a different ID number. Since we&rsquo;ll be interacting with an API, let&rsquo;s set up the API request using Postman. Set the method to GET and add the URL </span><span class="c12 c21">http://reqres.in/api/users/1</span><span class="c12">. Click </span><span class="c15">Send</span><span class="c12">&nbsp;and make sure you get a response. If you requested the user with an ID of 1, the response should reveal the user information for George Bluth, as seen in </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-30&amp;sa=D&amp;source=editors&amp;ust=1681144430870118&amp;usg=AOvVaw09iUMrXcN3nnOIHjWjQd0q">Figure 4-30</a></span><span class="c9">.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 313.33px;"><img alt="Screenshot of a GET request to the http://reqres.in/api/users/1 endpoint in Postman showing the JSON data from the response body. The JSON data includes details about a user named George." src="images/image23.png" style="width: 624.00px; height: 313.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-30</span><span class="c27 c8 c21">: A standard API request made using Postman to retrieve user 1 from the </span><span class="c23 c8 c21"><a class="c18" href="https://www.google.com/url?q=https://reqres.in/&amp;sa=D&amp;source=editors&amp;ust=1681144430870697&amp;usg=AOvVaw2dTZO0KGk1QCIH7P3eiZnh">https://reqres.in</a></span><span class="c3">&nbsp;database</span></p><p class="c1"><span class="c12">To efficiently retrieve the data of all users by following this method, we&rsquo;ll use Burp&rsquo;s Intruder. Proxy the traffic from the </span><span class="c12 c21">reqres.in</span><span class="c12">&nbsp;endpoint over to Burp Suite and submit the same request in Postman. Migrate over to Burp Suite, where you should see the intercepted traffic in Burp Suite&rsquo;s Proxy tab (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-31&amp;sa=D&amp;source=editors&amp;ust=1681144430871420&amp;usg=AOvVaw1VhtDv0szH1yfTmQvjiHq6">Figure 4-31</a></span><span class="c9">).</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 362.67px;"><img alt="The intercepted request shown in Burp Suite Proxy" src="images/image33.png" style="width: 624.00px; height: 362.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-31</span><span class="c3">: The intercepted request made using Postman to retrieve user 1</span></p><p class="c1"><span class="c12">Use the shortcut CTRL-I or right-click the intercepted request and select </span><span class="c15">Send to Intruder</span><span class="c12">. Select the </span><span class="c15">Intruder</span><span class="c42">&#9654;</span><span class="c15">Positions</span><span class="c12">&nbsp;tab to select the payload positions. First, select </span><span class="c15">Clear &sect;</span><span class="c12">&nbsp;to remove the automatic payload positioning. Then select the number at the end of the URL and click the button labeled </span><span class="c15">Add &sect;</span><span class="c12">&nbsp;(see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-32&amp;sa=D&amp;source=editors&amp;ust=1681144430872516&amp;usg=AOvVaw0B497GOI0ky0ELg2H3XO3W">Figure 4-32</a></span><span class="c9">).</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 534.67px; height: 281.33px;"><img alt="Screenshot of Burp Intruder&rsquo;s Positions tab with the Sniper attack type selected and the UserID portion of the endpoint selected as the attack position" src="images/image32.png" style="width: 534.67px; height: 281.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-32</span><span class="c3">: Burp Suite&rsquo;s Intruder configured with the attack position set around the UserID portion of the path</span></p><p class="c1"><span class="c12">Once you&rsquo;ve selected the attack position, select the </span><span class="c15">Payloads</span><span class="c12">&nbsp;tab (see </span><span class="c0"><a class="c18" href="https://www.google.com/url?q=https://learning.oreilly.com/library/view/hacking-apis/9781098130244/c04.xhtml%23figure4-33&amp;sa=D&amp;source=editors&amp;ust=1681144430873311&amp;usg=AOvVaw3Pe3X5rrWe2xLNBQKnQJPV">Figure 4-33</a></span><span class="c12">). Since our goal is to find out how many user accounts exist, we want to replace the user ID with a series of numbers. Change the payload type to </span><span class="c15">Numbers</span><span class="c9">. Update the range of numbers to test from 0 to 25, stepping by 1. The Step option indicates to Burp how many numbers to increase with each payload. By selecting 1, we are letting Burp do the heavy lifting of creating all the payloads on the fly. This will help us discover all the users with an ID between 0 and 25. With these settings, Burp will send a total of 26 requests, each one with a number from 0 to 25.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 558.67px; height: 374.67px;"><img alt="Screenshot of the Burp Suite Payloads tab showing one payload set, the payload type set to numbers, and the payloads ranging from 0 to 25" src="images/image31.png" style="width: 558.67px; height: 374.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c30"><span class="c23 c8 c21">Figure 4-33</span><span class="c3">: Intruder&rsquo;s Payloads tab with the payload type set to numbers</span></p><p class="c1"><span class="c12">Finally, click </span><span class="c15">Start Attack</span><span class="c12">&nbsp;to send the 26 requests to </span><span class="c12 c21">reqres.in</span><span class="c9">. Analyzing the results should give you a clear indication of all the live users. The API provider responds with a status 200 for user accounts between 1 and 12 and a status of 404 for the subsequent requests. Judging by the results, we can conclude that this API has a total of 12 valid user accounts.</span></p><p class="c1"><span class="c9">Of course, this was just practice. The values you replace in a future API hacking engagement could be user ID numbers, but they could just as easily be bank account numbers, phone numbers, company names, or email addresses. This lab has prepared you to take on the world of basic BOLA vulnerabilities; we will expand on this knowledge in Chapter 10.</span></p><p class="c1"><span class="c9">As a further exercise, try performing this same scan using Wfuzz.</span></p><p class="c14 c46"><span class="c17 c49"></span></p></body></html>